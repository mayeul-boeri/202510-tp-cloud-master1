{"format_version":"1.2","terraform_version":"1.13.4","variables":{"asg_desired_capacity":{"value":2},"asg_max_size":{"value":3},"asg_min_size":{"value":2},"aws_region":{"value":"us-east-1"},"az_count":{"value":2},"db_allocated_storage":{"value":20},"db_instance_class":{"value":"db.t3.micro"},"db_password":{"value":null},"db_username":{"value":"admin"},"instance_ami":{"value":""},"instance_type":{"value":"t3.micro"},"project_name":{"value":"tpcloudv2"},"vpc_cidr":{"value":"10.0.0.0/16"}},"planned_values":{"outputs":{"alb_dns_name":{"sensitive":false,"type":"string","value":"tpcloudv2-alb-476460880.us-east-1.elb.amazonaws.com"},"db_endpoint":{"sensitive":false,"type":"string","value":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com"},"db_password":{"sensitive":true,"type":"string","value":"m7kKGxx1TJN0y50t"},"db_sg_id":{"sensitive":false,"type":"string","value":"sg-0b247b4791656c70a"},"internet_gateway_id":{"sensitive":false,"type":"string","value":"igw-0433499d9fda25035"},"nat_gateway_id":{"sensitive":false,"type":"string","value":"nat-0344128bc2a1da0dd"},"private_subnet_ids":{"sensitive":false,"type":["tuple",["string","string"]],"value":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"]},"public_subnet_ids":{"sensitive":false,"type":["tuple",["string","string"]],"value":["subnet-09b6a3aa7461803fb","subnet-04d126fb812d10404"]},"route_table_private_id":{"sensitive":false,"type":"string","value":"rtb-0814ac2af68791e6e"},"route_table_public_id":{"sensitive":false,"type":"string","value":"rtb-074547108e1e5e861"},"s3_bucket_arn":{"sensitive":false,"type":"string","value":"arn:aws:s3:::tpcloudv2-5c651390"},"s3_bucket_id":{"sensitive":false,"type":"string","value":"tpcloudv2-5c651390"},"vpc_id":{"sensitive":false,"type":"string","value":"vpc-0d3e0a0fe7ee12344"},"web_sg_id":{"sensitive":false,"type":"string","value":"sg-09652d4936cec9b94"}},"root_module":{"child_modules":[{"resources":[{"address":"module.alb.aws_lb.app_alb","mode":"managed","type":"aws_lb","name":"app_alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","arn_suffix":"app/tpcloudv2-alb/42c1aa1d705c4a34","client_keep_alive":3600,"connection_logs":[{"bucket":"","enabled":false,"prefix":""}],"customer_owned_ipv4_pool":"","desync_mitigation_mode":"defensive","dns_name":"tpcloudv2-alb-476460880.us-east-1.elb.amazonaws.com","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"tpcloudv2-alb","name_prefix":"","preserve_host_header":false,"security_groups":["sg-09652d4936cec9b94"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-04d126fb812d10404"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-09b6a3aa7461803fb"}],"subnets":["subnet-04d126fb812d10404","subnet-09b6a3aa7461803fb"],"tags":{"Name":"tpcloudv2-alb"},"tags_all":{"Name":"tpcloudv2-alb"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344","xff_header_processing_mode":"append","zone_id":"Z35SXDOTRQ7X7K"},"sensitive_values":{"access_logs":[{}],"connection_logs":[{}],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{}],"subnets":[false,false],"tags":{},"tags_all":{}}},{"address":"module.alb.aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:listener/app/tpcloudv2-alb/42c1aa1d705c4a34/c132e422fcfdcc94","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:listener/app/tpcloudv2-alb/42c1aa1d705c4a34/c132e422fcfdcc94","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","mutual_authentication":[],"port":80,"protocol":"HTTP","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":"","routing_http_response_access_control_allow_headers_header_value":"","routing_http_response_access_control_allow_methods_header_value":"","routing_http_response_access_control_allow_origin_header_value":"","routing_http_response_access_control_expose_headers_header_value":"","routing_http_response_access_control_max_age_header_value":"","routing_http_response_content_security_policy_header_value":"","routing_http_response_server_enabled":true,"routing_http_response_strict_transport_security_header_value":"","routing_http_response_x_content_type_options_header_value":"","routing_http_response_x_frame_options_header_value":"","ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":null,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}}},{"address":"module.alb.aws_lb_target_group.app_tg","mode":"managed","type":"aws_lb_target_group","name":"app_tg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","arn_suffix":"targetgroup/tpcloudv2-tg/24468659629fa0d7","connection_termination":null,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":2,"interval":30,"matcher":"200-399","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":false,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34"],"load_balancing_algorithm_type":"round_robin","load_balancing_anomaly_mitigation":"off","load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"tpcloudv2-tg","name_prefix":"","port":80,"preserve_client_ip":null,"protocol":"HTTP","protocol_version":"HTTP1","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"cookie_name":"","enabled":false,"type":"lb_cookie"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":null,"unhealthy_draining_interval":null}],"target_type":"instance","vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]}}],"address":"module.alb"},{"resources":[{"address":"module.asg.aws_autoscaling_group.app_asg","mode":"managed","type":"aws_autoscaling_group","name":"app_asg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:autoscaling:us-east-1:143100457386:autoScalingGroup:d587cc82-b743-46bd-83b6-c650b8ae0666:autoScalingGroupName/tpcloudv2-asg","availability_zone_distribution":[{"capacity_distribution_strategy":"balanced-best-effort"}],"availability_zones":["us-east-1a","us-east-1b"],"capacity_rebalance":false,"capacity_reservation_specification":[{"capacity_reservation_preference":"default","capacity_reservation_target":[]}],"context":"","default_cooldown":300,"default_instance_warmup":0,"desired_capacity":2,"desired_capacity_type":"","enabled_metrics":[],"force_delete":false,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"ELB","id":"tpcloudv2-asg","ignore_failed_scaling_activities":false,"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_configuration":"","launch_template":[{"id":"lt-032a4af80bf14053e","name":"tpcloudv2-lt-20251105095059396300000004","version":"$Latest"}],"load_balancers":[],"max_instance_lifetime":0,"max_size":3,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":2,"mixed_instances_policy":[],"name":"tpcloudv2-asg","name_prefix":"","placement_group":"","predicted_capacity":0,"protect_from_scale_in":false,"service_linked_role_arn":"arn:aws:iam::143100457386:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling","suspended_processes":[],"tag":[{"key":"Name","propagate_at_launch":true,"value":"tpcloudv2-asg"}],"target_group_arns":["arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7"],"termination_policies":[],"timeouts":null,"traffic_source":[{"identifier":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","type":"elbv2"}],"vpc_zone_identifier":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[],"warm_pool_size":0},"sensitive_values":{"availability_zone_distribution":[{}],"availability_zones":[false,false],"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"enabled_metrics":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"suspended_processes":[],"tag":[{}],"target_group_arns":[false],"termination_policies":[],"traffic_source":[{}],"vpc_zone_identifier":[false,false],"warm_pool":[]}},{"address":"module.asg.aws_launch_template.app","mode":"managed","type":"aws_launch_template","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:launch-template/lt-032a4af80bf14053e","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{"arn":"","name":"tpcloudv2-ec2-profile"}],"id":"lt-032a4af80bf14053e","image_id":"ami-0601422bf6afa8ac3","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"t3.micro","kernel_id":"","key_name":"","latest_version":6,"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"name":"tpcloudv2-lt-20251105095059396300000004","name_prefix":"tpcloudv2-lt-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":[],"tag_specifications":[{"resource_type":"instance","tags":{"Name":"tpcloudv2-instance"}}],"tags":{},"tags_all":{},"update_default_version":null,"user_data":"IyEvYmluL2Jhc2gKIyB1cGRhdGUgcGFja2FnZXMKaWYgY29tbWFuZCAtdiBhcHQtZ2V0ID4vZGV2L251bGwgMj4mMTsgdGhlbiBhcHQtZ2V0IHVwZGF0ZSAteSB8fCB0cnVlOyBlbHNlIHl1bSB1cGRhdGUgLXkgfHwgdHJ1ZTsgZmkKIyBUcnkgdG8gaW5zdGFsbCBhbmQgc3RhcnQgU1NNIGFnZW50IHNvIHdlIGNhbiBkZWJ1ZyBpbnN0YW5jZXMgdmlhIFNTTSAoYmVzdC1lZmZvcnQpCmlmIGNvbW1hbmQgLXYgeXVtID4vZGV2L251bGwgMj4mMTsgdGhlbgogIHl1bSBpbnN0YWxsIC15IGFtYXpvbi1zc20tYWdlbnQgfHwgdHJ1ZQogIHN5c3RlbWN0bCBlbmFibGUgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCiAgc3lzdGVtY3RsIHN0YXJ0IGFtYXpvbi1zc20tYWdlbnQgfHwgdHJ1ZQplbGlmIGNvbW1hbmQgLXYgYXB0LWdldCA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAjIHNvbWUgZGlzdHJvcyBwcm92aWRlIGFtYXpvbi1zc20tYWdlbnQgdmlhIHBhY2thZ2UsIG90aGVycyByZXF1aXJlIHRoZSBkZWIgZnJvbSBTMzsKICBhcHQtZ2V0IGluc3RhbGwgLXkgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCiAgc3lzdGVtY3RsIGVuYWJsZSBhbWF6b24tc3NtLWFnZW50IHx8IHRydWUKICBzeXN0ZW1jdGwgc3RhcnQgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCmZpCiMgSW5zdGFsbCBhbmQgc3RhcnQgbmdpbnggKGJlc3QtZWZmb3J0KQppZiBjb21tYW5kIC12IGFwdC1nZXQgPi9kZXYvbnVsbCAyPiYxOyB0aGVuCiAgYXB0LWdldCBpbnN0YWxsIC15IG5naW54IHx8IHRydWUKICBzeXN0ZW1jdGwgZW5hYmxlIG5naW54IHx8IHRydWUKICBzeXN0ZW1jdGwgc3RhcnQgbmdpbnggfHwgdHJ1ZQplbHNlCiAgeXVtIGluc3RhbGwgLXkgbmdpbnggfHwgdHJ1ZQogIHN5c3RlbWN0bCBlbmFibGUgbmdpbnggfHwgdHJ1ZQogIHN5c3RlbWN0bCBzdGFydCBuZ2lueCB8fCB0cnVlCmZpCiMgRW5zdXJlIHdlYiByb290IGV4aXN0cwpta2RpciAtcCAvdmFyL3d3dy9odG1sIHx8IHRydWUKIyBHZW5lcmF0ZSBhbiBpbmRleCBwYWdlIHRoYXQgc2hvd3MgaG9zdG5hbWUgYW5kIHByaXZhdGUgSVAgc28gd2UgY2FuIGRlbW9uc3RyYXRlIGxvYWQtYmFsYW5jaW5nCklQPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9tZXRhLWRhdGEvbG9jYWwtaXB2NCB8fCBob3N0bmFtZSAtSSB8IGF3ayAne3ByaW50ICQxfScpCkhPU1ROQU1FPSQoaG9zdG5hbWUpCmNhdCA+L3Zhci93d3cvaHRtbC9pbmRleC5odG1sIDw8RU9GCkhlbGxvIGZyb20gaW5zdGFuY2UKSG9zdG5hbWU6ICRIT1NUTkFNRQpJUDogJElQCkVPRgojIElmIG5naW54IGlzbid0IHJ1bm5pbmcsIHN0YXJ0IGEgcHl0aG9uMyBodHRwLnNlcnZlciBmYWxsYmFjayB0byBzZXJ2ZSB0aGUgcGFnZQppZiAhIHN5c3RlbWN0bCBpcy1hY3RpdmUgLS1xdWlldCBuZ2lueCAyPi9kZXYvbnVsbDsgdGhlbgogIGlmIGNvbW1hbmQgLXYgcHl0aG9uMyA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAgIG5vaHVwIHB5dGhvbjMgLW0gaHR0cC5zZXJ2ZXIgODAgLWQgL3Zhci93d3cvaHRtbCA+L3Zhci9sb2cvcHl0aG9uLWh0dHAubG9nIDI+JjEgJgogIGZpCmZpCg==","vpc_security_group_ids":["sg-09652d4936cec9b94"]},"sensitive_values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{}],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}],"address":"module.asg"},{"resources":[{"address":"module.backup.aws_backup_plan.daily","mode":"managed","type":"aws_backup_plan","name":"daily","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"advanced_backup_setting":[],"arn":"arn:aws:backup:us-east-1:143100457386:backup-plan:c15605c5-48c4-4126-a5d2-8821fe07852c","id":"c15605c5-48c4-4126-a5d2-8821fe07852c","name":"tpcloudv2-daily-backup","rule":[{"completion_window":180,"copy_action":[],"enable_continuous_backup":false,"lifecycle":[{"cold_storage_after":0,"delete_after":90,"opt_in_to_archive_for_supported_resources":false}],"recovery_point_tags":{},"rule_name":"daily-rule","schedule":"cron(0 5 ? * * *)","schedule_expression_timezone":"Etc/UTC","start_window":60,"target_vault_name":"tpcloudv2-backup-vault"}],"tags":{},"tags_all":{},"version":"MmFhMTU4YmYtZGU0NS00NGRiLWIyNTYtNWVjNTQyNDEzOWFi"},"sensitive_values":{"advanced_backup_setting":[],"rule":[{"copy_action":[],"lifecycle":[{}],"recovery_point_tags":{}}],"tags":{},"tags_all":{}}},{"address":"module.backup.aws_backup_selection.selection","mode":"managed","type":"aws_backup_selection","name":"selection","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"condition":[{"string_equals":[],"string_like":[],"string_not_equals":[],"string_not_like":[]}],"iam_role_arn":"arn:aws:iam::143100457386:role/tpcloudv2-backup-role","id":"00755b40-6ae0-4311-8b54-a3da3c3b6362","name":"tpcloudv2-selection","not_resources":[],"plan_id":"c15605c5-48c4-4126-a5d2-8821fe07852c","resources":["arn:aws:rds:us-east-1:143100457386:db:tpcloudv2-mysql","arn:aws:s3:::tpcloudv2-5c651390"],"selection_tag":[]},"sensitive_values":{"condition":[{"string_equals":[],"string_like":[],"string_not_equals":[],"string_not_like":[]}],"not_resources":[],"resources":[false,false],"selection_tag":[]}},{"address":"module.backup.aws_backup_vault.this","mode":"managed","type":"aws_backup_vault","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:backup:us-east-1:143100457386:backup-vault:tpcloudv2-backup-vault","force_destroy":false,"id":"tpcloudv2-backup-vault","kms_key_arn":"arn:aws:kms:us-east-1:143100457386:key/7d9aaeae-51da-491b-a579-97e3b9248297","name":"tpcloudv2-backup-vault","recovery_points":0,"tags":{},"tags_all":{},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.backup.aws_iam_role.backup_role","mode":"managed","type":"aws_iam_role","name":"backup_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::143100457386:role/tpcloudv2-backup-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"backup.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-05T10:54:46Z","description":"","force_detach_policies":false,"id":"tpcloudv2-backup-role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup"],"max_session_duration":3600,"name":"tpcloudv2-backup-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROASCULTWGVLYTRAOK3P"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false],"tags":{},"tags_all":{}}},{"address":"module.backup.aws_iam_role_policy_attachment.backup_attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"backup_attach","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"tpcloudv2-backup-role-20251105105448381400000001","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup","role":"tpcloudv2-backup-role"},"sensitive_values":{}}],"address":"module.backup"},{"resources":[{"address":"module.db.aws_db_instance.mysql","mode":"managed","type":"aws_db_instance","name":"mysql","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"address":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com","allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"arn":"arn:aws:rds:us-east-1:143100457386:db:tpcloudv2-mysql","auto_minor_version_upgrade":true,"availability_zone":"us-east-1b","backup_retention_period":0,"backup_target":"region","backup_window":"06:16-06:46","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"database_insights_mode":"standard","db_name":"tpcloudv2db","db_subnet_group_name":"tpcloudv2-db-subnet-group","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":[],"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":[],"endpoint":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com:3306","engine":"mysql","engine_lifecycle_support":"open-source-rds-extended-support","engine_version":"8.0","engine_version_actual":"8.0.42","final_snapshot_identifier":null,"hosted_zone_id":"Z2R2ITUGPM61AM","iam_database_authentication_enabled":false,"id":"db-J6G6WKDSFKSESLOCPAHE43CBIE","identifier":"tpcloudv2-mysql","identifier_prefix":"","instance_class":"db.t3.micro","iops":0,"kms_key_id":"arn:aws:kms:us-east-1:143100457386:key/f7655d19-a860-452e-9f07-06f428e42c8a","latest_restorable_time":"","license_model":"general-public-license","listener_endpoint":[],"maintenance_window":"mon:03:09-mon:03:39","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":0,"monitoring_interval":0,"monitoring_role_arn":"","multi_az":true,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:mysql-8-0","parameter_group_name":"default.mysql8.0","password":"m7kKGxx1TJN0y50t","password_wo":null,"password_wo_version":null,"performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"publicly_accessible":false,"replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-J6G6WKDSFKSESLOCPAHE43CBIE","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":true,"storage_throughput":0,"storage_type":"gp2","tags":{"Name":"tpcloudv2-mysql"},"tags_all":{"Name":"tpcloudv2-mysql"},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0b247b4791656c70a"]},"sensitive_values":{"blue_green_update":[],"domain_dns_ips":[],"enabled_cloudwatch_logs_exports":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}},{"address":"module.db.aws_db_subnet_group.this","mode":"managed","type":"aws_db_subnet_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:rds:us-east-1:143100457386:subgrp:tpcloudv2-db-subnet-group","description":"Managed by Terraform","id":"tpcloudv2-db-subnet-group","name":"tpcloudv2-db-subnet-group","name_prefix":"","subnet_ids":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"supported_network_types":["IPV4"],"tags":{"Name":"tpcloudv2-db-subnet-group"},"tags_all":{"Name":"tpcloudv2-db-subnet-group"},"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"subnet_ids":[false,false],"supported_network_types":[false],"tags":{},"tags_all":{}}},{"address":"module.db.random_password.db","mode":"managed","type":"random_password","name":"db","provider_name":"registry.terraform.io/hashicorp/random","schema_version":3,"values":{"bcrypt_hash":"$2a$10$E574BUigqD404iihHqgXZeREGebJyjEJIu7544EkgREoTcsnDiB96","id":"none","keepers":null,"length":16,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"result":"m7kKGxx1TJN0y50t","special":false,"upper":true},"sensitive_values":{"bcrypt_hash":true,"result":true}}],"address":"module.db"},{"resources":[{"address":"module.iam.aws_iam_instance_profile.ec2_profile","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_profile","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::143100457386:instance-profile/tpcloudv2-ec2-profile","create_date":"2025-11-05T10:49:44Z","id":"tpcloudv2-ec2-profile","name":"tpcloudv2-ec2-profile","name_prefix":"","path":"/","role":"tpcloudv2-ec2-role","tags":{},"tags_all":{},"unique_id":"AIPASCULTWGVP3ZCLG4J6"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.ec2_role","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::143100457386:role/tpcloudv2-ec2-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-05T10:49:43Z","description":"","force_detach_policies":false,"id":"tpcloudv2-ec2-role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess","arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"],"max_session_duration":3600,"name":"tpcloudv2-ec2-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROASCULTWGVOFMX7TOBU"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.s3_read","mode":"managed","type":"aws_iam_role_policy_attachment","name":"s3_read","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"tpcloudv2-ec2-role-20251105104944341100000002","policy_arn":"arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess","role":"tpcloudv2-ec2-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ssm","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ssm","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"tpcloudv2-ec2-role-20251105104944174900000001","policy_arn":"arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore","role":"tpcloudv2-ec2-role"},"sensitive_values":{}}],"address":"module.iam"},{"resources":[{"address":"module.monitoring.aws_cloudwatch_metric_alarm.asg_below_min","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"asg_below_min","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":[],"alarm_description":"Alarm if Auto Scaling Group has fewer than 1 InService instance","alarm_name":"tpcloudv2-asg-below-min","arn":"arn:aws:cloudwatch:us-east-1:143100457386:alarm:tpcloudv2-asg-below-min","comparison_operator":"LessThanThreshold","datapoints_to_alarm":0,"dimensions":{"AutoScalingGroupName":"tpcloudv2-asg"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"tpcloudv2-asg-below-min","insufficient_data_actions":[],"metric_name":"GroupInServiceInstances","metric_query":[],"namespace":"AWS/AutoScaling","ok_actions":[],"period":60,"statistic":"Minimum","tags":{},"tags_all":{},"threshold":1,"threshold_metric_id":"","treat_missing_data":"missing","unit":""},"sensitive_values":{"alarm_actions":[],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}}},{"address":"module.monitoring.aws_cloudwatch_metric_alarm.rds_cpu_high","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"rds_cpu_high","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":[],"alarm_description":"Alarm if RDS CPU \u003e 70% for 5 minutes","alarm_name":"tpcloudv2-rds-cpu-high","arn":"arn:aws:cloudwatch:us-east-1:143100457386:alarm:tpcloudv2-rds-cpu-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"DBInstanceIdentifier":"db-J6G6WKDSFKSESLOCPAHE43CBIE"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":5,"extended_statistic":"","id":"tpcloudv2-rds-cpu-high","insufficient_data_actions":[],"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/RDS","ok_actions":[],"period":60,"statistic":"Average","tags":{},"tags_all":{},"threshold":70,"threshold_metric_id":"","treat_missing_data":"missing","unit":""},"sensitive_values":{"alarm_actions":[],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}}}],"address":"module.monitoring"},{"resources":[{"address":"module.s3.aws_s3_bucket.app_bucket","mode":"managed","type":"aws_s3_bucket","name":"app_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::tpcloudv2-5c651390","bucket":"tpcloudv2-5c651390","bucket_domain_name":"tpcloudv2-5c651390.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"tpcloudv2-5c651390.s3.us-east-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"317523b7aae7a90a380cb06609ece5d31d9c0f5d5b5a328eaf48739e0f7d07c1","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"tpcloudv2-5c651390","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":365,"expired_object_delete_marker":false}],"id":"keep-current","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"Name":"tpcloudv2-5c651390"},"tags_all":{"Name":"tpcloudv2-5c651390"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_values":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]}},{"address":"module.s3.aws_s3_bucket_lifecycle_configuration.app_bucket_lifecycle","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"app_bucket_lifecycle","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":365,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"keep-current","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]}},{"address":"module.s3.aws_s3_bucket_server_side_encryption_configuration.app_bucket_sse","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"app_bucket_sse","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"module.s3.aws_s3_bucket_versioning.app_bucket_versioning","mode":"managed","type":"aws_s3_bucket_versioning","name":"app_bucket_versioning","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"module.s3.random_id.bucket_suffix","mode":"managed","type":"random_id","name":"bucket_suffix","provider_name":"registry.terraform.io/hashicorp/random","schema_version":0,"values":{"b64_std":"XGUTkA==","b64_url":"XGUTkA","byte_length":4,"dec":"1550128016","hex":"5c651390","id":"XGUTkA","keepers":null,"prefix":null},"sensitive_values":{}}],"address":"module.s3"},{"resources":[{"address":"module.security.aws_network_acl.private_nacl","mode":"managed","type":"aws_network_acl","name":"private_nacl","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:network-acl/acl-0b436c6d3e30f6d4d","egress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"id":"acl-0b436c6d3e30f6d4d","ingress":[{"action":"allow","cidr_block":"10.0.0.0/16","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"owner_id":"143100457386","subnet_ids":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"tags":{"Name":"tpcloudv2-private-nacl"},"tags_all":{"Name":"tpcloudv2-private-nacl"},"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"egress":[{}],"ingress":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{}}},{"address":"module.security.aws_network_acl_association.private_nacl_assoc[0]","mode":"managed","type":"aws_network_acl_association","name":"private_nacl_assoc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"aclassoc-0e00f6f43fcdcf6ad","network_acl_id":"acl-0b436c6d3e30f6d4d","subnet_id":"subnet-006ed3de19f0f6ee8"},"sensitive_values":{}},{"address":"module.security.aws_network_acl_association.private_nacl_assoc[1]","mode":"managed","type":"aws_network_acl_association","name":"private_nacl_assoc","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"aclassoc-09f4bc0bb1683c177","network_acl_id":"acl-0b436c6d3e30f6d4d","subnet_id":"subnet-0810ab3ca52b5beeb"},"sensitive_values":{}},{"address":"module.security.aws_network_acl_rule.private_allow_all_inbound","mode":"managed","type":"aws_network_acl_rule","name":"private_allow_all_inbound","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_block":"10.0.0.0/16","egress":false,"from_port":null,"icmp_code":null,"icmp_type":null,"id":"nacl-3960600231","ipv6_cidr_block":"","network_acl_id":"acl-0b436c6d3e30f6d4d","protocol":"-1","rule_action":"allow","rule_number":100,"to_port":null},"sensitive_values":{}},{"address":"module.security.aws_network_acl_rule.private_allow_all_outbound","mode":"managed","type":"aws_network_acl_rule","name":"private_allow_all_outbound","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_block":"0.0.0.0/0","egress":true,"from_port":null,"icmp_code":null,"icmp_type":null,"id":"nacl-1919484286","ipv6_cidr_block":"","network_acl_id":"acl-0b436c6d3e30f6d4d","protocol":"-1","rule_action":"allow","rule_number":100,"to_port":null},"sensitive_values":{}},{"address":"module.security.aws_security_group.db_sg","mode":"managed","type":"aws_security_group","name":"db_sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:security-group/sg-0b247b4791656c70a","description":"db sg","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0b247b4791656c70a","ingress":[{"cidr_blocks":["10.0.0.0/16"],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306}],"name":"tpcloudv2-db-sg","name_prefix":"","owner_id":"143100457386","revoke_rules_on_delete":false,"tags":{"Name":"tpcloudv2-db-sg"},"tags_all":{"Name":"tpcloudv2-db-sg"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}},{"address":"module.security.aws_security_group.web_sg","mode":"managed","type":"aws_security_group","name":"web_sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:security-group/sg-09652d4936cec9b94","description":"web sg","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-09652d4936cec9b94","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"tpcloudv2-web-sg","name_prefix":"","owner_id":"143100457386","revoke_rules_on_delete":false,"tags":{"Name":"tpcloudv2-web-sg"},"tags_all":{"Name":"tpcloudv2-web-sg"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}],"address":"module.security"},{"resources":[{"address":"module.vpc.aws_eip.nat_eip","mode":"managed","type":"aws_eip","name":"nat_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"allocation_id":"eipalloc-0f7fa54820d8fbe51","arn":"arn:aws:ec2:us-east-1:143100457386:elastic-ip/eipalloc-0f7fa54820d8fbe51","associate_with_private_ip":null,"association_id":"eipassoc-07e723385dc69e1d6","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0f7fa54820d8fbe51","instance":"","ipam_pool_id":null,"network_border_group":"us-east-1","network_interface":"eni-086ae2203aafcaf39","private_dns":"ip-10-0-0-129.ec2.internal","private_ip":"10.0.0.129","ptr_record":"","public_dns":"ec2-44-217-206-133.compute-1.amazonaws.com","public_ip":"44.217.206.133","public_ipv4_pool":"amazon","tags":{"Name":"tpcloudv2-nat-eip"},"tags_all":{"Name":"tpcloudv2-nat-eip"},"timeouts":null,"vpc":true},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_internet_gateway.igw","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:internet-gateway/igw-0433499d9fda25035","id":"igw-0433499d9fda25035","owner_id":"143100457386","tags":{"Name":"tpcloudv2-igw"},"tags_all":{"Name":"tpcloudv2-igw"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_nat_gateway.nat","mode":"managed","type":"aws_nat_gateway","name":"nat","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-0f7fa54820d8fbe51","association_id":"eipassoc-07e723385dc69e1d6","connectivity_type":"public","id":"nat-0344128bc2a1da0dd","network_interface_id":"eni-086ae2203aafcaf39","private_ip":"10.0.0.129","public_ip":"44.217.206.133","secondary_allocation_ids":[],"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-09b6a3aa7461803fb","tags":{"Name":"tpcloudv2-natgw"},"tags_all":{"Name":"tpcloudv2-natgw"},"timeouts":null},"sensitive_values":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_route.private_nat","mode":"managed","type":"aws_route","name":"private_nat","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","id":"r-rtb-0814ac2af68791e6e1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"nat-0344128bc2a1da0dd","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-0814ac2af68791e6e","state":"active","timeouts":null,"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"sensitive_values":{}},{"address":"module.vpc.aws_route.public_internet_access","mode":"managed","type":"aws_route","name":"public_internet_access","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0433499d9fda25035","id":"r-rtb-074547108e1e5e8611080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-074547108e1e5e861","state":"active","timeouts":null,"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"sensitive_values":{}},{"address":"module.vpc.aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:route-table/rtb-0814ac2af68791e6e","id":"rtb-0814ac2af68791e6e","owner_id":"143100457386","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-0344128bc2a1da0dd","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"tpcloudv2-rtb-private"},"tags_all":{"Name":"tpcloudv2-rtb-private"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:route-table/rtb-074547108e1e5e861","id":"rtb-074547108e1e5e861","owner_id":"143100457386","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0433499d9fda25035","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"tpcloudv2-rtb-public"},"tags_all":{"Name":"tpcloudv2-rtb-public"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_route_table_association.private_assoc[0]","mode":"managed","type":"aws_route_table_association","name":"private_assoc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-0e0997f636bbf1e2d","route_table_id":"rtb-0814ac2af68791e6e","subnet_id":"subnet-006ed3de19f0f6ee8","timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_route_table_association.private_assoc[1]","mode":"managed","type":"aws_route_table_association","name":"private_assoc","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-0b5c04402fc19ff75","route_table_id":"rtb-0814ac2af68791e6e","subnet_id":"subnet-0810ab3ca52b5beeb","timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_route_table_association.public_assoc[0]","mode":"managed","type":"aws_route_table_association","name":"public_assoc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-09e7f77711db4cb4c","route_table_id":"rtb-074547108e1e5e861","subnet_id":"subnet-09b6a3aa7461803fb","timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_route_table_association.public_assoc[1]","mode":"managed","type":"aws_route_table_association","name":"public_assoc","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-02c6a676b14fb007e","route_table_id":"rtb-074547108e1e5e861","subnet_id":"subnet-04d126fb812d10404","timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_subnet.private[0]","mode":"managed","type":"aws_subnet","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-006ed3de19f0f6ee8","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-006ed3de19f0f6ee8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-private-0"},"tags_all":{"Name":"tpcloudv2-private-0"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_subnet.private[1]","mode":"managed","type":"aws_subnet","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-0810ab3ca52b5beeb","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0810ab3ca52b5beeb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-private-1"},"tags_all":{"Name":"tpcloudv2-private-1"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_subnet.public[0]","mode":"managed","type":"aws_subnet","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-09b6a3aa7461803fb","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.0.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-09b6a3aa7461803fb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-public-0"},"tags_all":{"Name":"tpcloudv2-public-0"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_subnet.public[1]","mode":"managed","type":"aws_subnet","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-04d126fb812d10404","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-04d126fb812d10404","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-public-1"},"tags_all":{"Name":"tpcloudv2-public-1"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:vpc/vpc-0d3e0a0fe7ee12344","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-07c127670cbd2832c","default_route_table_id":"rtb-0a0f1331fa65c7ff1","default_security_group_id":"sg-098df810a70b0b044","dhcp_options_id":"dopt-0271b319177685ac2","enable_dns_hostnames":false,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0d3e0a0fe7ee12344","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0a0f1331fa65c7ff1","owner_id":"143100457386","tags":{"Name":"tpcloudv2-vpc"},"tags_all":{"Name":"tpcloudv2-vpc"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.vpc"},{"resources":[{"address":"module.waf.aws_wafv2_web_acl.this","mode":"managed","type":"aws_wafv2_web_acl","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_integration_url":"","arn":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a","association_config":[],"capacity":700,"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"description":"WAFv2 Web ACL for tpcloudv2","id":"1e47f6ac-86ee-4489-be79-23d55879b53a","lock_token":"04edc641-51a4-447f-9a25-3f07b08cf533","name":"tpcloudv2-waf","name_prefix":"","rule":[{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedCommonRules","override_action":[{"count":[],"none":[{}]}],"priority":1,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesCommonRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tpcloudv2-managed-rules","sampled_requests_enabled":true}]}],"rule_json":null,"scope":"REGIONAL","tags":{},"tags_all":{},"token_domains":[],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tpcloudv2-waf","sampled_requests_enabled":true}]},"sensitive_values":{"association_config":[],"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"rule":[{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]}],"tags":{},"tags_all":{},"token_domains":[],"visibility_config":[{}]}},{"address":"module.waf.aws_wafv2_web_acl_association.alb_assoc","mode":"managed","type":"aws_wafv2_web_acl_association","name":"alb_assoc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a,arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","resource_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","timeouts":null,"web_acl_arn":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a"},"sensitive_values":{}}],"address":"module.waf"}]}},"resource_changes":[{"address":"module.alb.aws_lb.app_alb","module_address":"module.alb","mode":"managed","type":"aws_lb","name":"app_alb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","arn_suffix":"app/tpcloudv2-alb/42c1aa1d705c4a34","client_keep_alive":3600,"connection_logs":[{"bucket":"","enabled":false,"prefix":""}],"customer_owned_ipv4_pool":"","desync_mitigation_mode":"defensive","dns_name":"tpcloudv2-alb-476460880.us-east-1.elb.amazonaws.com","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"tpcloudv2-alb","name_prefix":"","preserve_host_header":false,"security_groups":["sg-09652d4936cec9b94"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-04d126fb812d10404"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-09b6a3aa7461803fb"}],"subnets":["subnet-04d126fb812d10404","subnet-09b6a3aa7461803fb"],"tags":{"Name":"tpcloudv2-alb"},"tags_all":{"Name":"tpcloudv2-alb"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344","xff_header_processing_mode":"append","zone_id":"Z35SXDOTRQ7X7K"},"after":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","arn_suffix":"app/tpcloudv2-alb/42c1aa1d705c4a34","client_keep_alive":3600,"connection_logs":[{"bucket":"","enabled":false,"prefix":""}],"customer_owned_ipv4_pool":"","desync_mitigation_mode":"defensive","dns_name":"tpcloudv2-alb-476460880.us-east-1.elb.amazonaws.com","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"tpcloudv2-alb","name_prefix":"","preserve_host_header":false,"security_groups":["sg-09652d4936cec9b94"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-04d126fb812d10404"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-09b6a3aa7461803fb"}],"subnets":["subnet-04d126fb812d10404","subnet-09b6a3aa7461803fb"],"tags":{"Name":"tpcloudv2-alb"},"tags_all":{"Name":"tpcloudv2-alb"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344","xff_header_processing_mode":"append","zone_id":"Z35SXDOTRQ7X7K"},"after_unknown":{},"before_sensitive":{"access_logs":[{}],"connection_logs":[{}],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{}],"subnets":[false,false],"tags":{},"tags_all":{}},"after_sensitive":{"access_logs":[{}],"connection_logs":[{}],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{}],"subnets":[false,false],"tags":{},"tags_all":{}}}},{"address":"module.alb.aws_lb_listener.http","module_address":"module.alb","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:listener/app/tpcloudv2-alb/42c1aa1d705c4a34/c132e422fcfdcc94","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:listener/app/tpcloudv2-alb/42c1aa1d705c4a34/c132e422fcfdcc94","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","mutual_authentication":[],"port":80,"protocol":"HTTP","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":"","routing_http_response_access_control_allow_headers_header_value":"","routing_http_response_access_control_allow_methods_header_value":"","routing_http_response_access_control_allow_origin_header_value":"","routing_http_response_access_control_expose_headers_header_value":"","routing_http_response_access_control_max_age_header_value":"","routing_http_response_content_security_policy_header_value":"","routing_http_response_server_enabled":true,"routing_http_response_strict_transport_security_header_value":"","routing_http_response_x_content_type_options_header_value":"","routing_http_response_x_frame_options_header_value":"","ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":null,"timeouts":null},"after":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:listener/app/tpcloudv2-alb/42c1aa1d705c4a34/c132e422fcfdcc94","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:listener/app/tpcloudv2-alb/42c1aa1d705c4a34/c132e422fcfdcc94","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","mutual_authentication":[],"port":80,"protocol":"HTTP","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":"","routing_http_response_access_control_allow_headers_header_value":"","routing_http_response_access_control_allow_methods_header_value":"","routing_http_response_access_control_allow_origin_header_value":"","routing_http_response_access_control_expose_headers_header_value":"","routing_http_response_access_control_max_age_header_value":"","routing_http_response_content_security_policy_header_value":"","routing_http_response_server_enabled":true,"routing_http_response_strict_transport_security_header_value":"","routing_http_response_x_content_type_options_header_value":"","routing_http_response_x_frame_options_header_value":"","ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":null,"timeouts":null},"after_unknown":{},"before_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"after_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}}}},{"address":"module.alb.aws_lb_target_group.app_tg","module_address":"module.alb","mode":"managed","type":"aws_lb_target_group","name":"app_tg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","arn_suffix":"targetgroup/tpcloudv2-tg/24468659629fa0d7","connection_termination":null,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":2,"interval":30,"matcher":"200-399","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":false,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34"],"load_balancing_algorithm_type":"round_robin","load_balancing_anomaly_mitigation":"off","load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"tpcloudv2-tg","name_prefix":"","port":80,"preserve_client_ip":null,"protocol":"HTTP","protocol_version":"HTTP1","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"cookie_name":"","enabled":false,"type":"lb_cookie"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":null,"unhealthy_draining_interval":null}],"target_type":"instance","vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","arn_suffix":"targetgroup/tpcloudv2-tg/24468659629fa0d7","connection_termination":null,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":2,"interval":30,"matcher":"200-399","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":false,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34"],"load_balancing_algorithm_type":"round_robin","load_balancing_anomaly_mitigation":"off","load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"tpcloudv2-tg","name_prefix":"","port":80,"preserve_client_ip":null,"protocol":"HTTP","protocol_version":"HTTP1","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"cookie_name":"","enabled":false,"type":"lb_cookie"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":null,"unhealthy_draining_interval":null}],"target_type":"instance","vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"after_sensitive":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]}}},{"address":"module.asg.aws_autoscaling_group.app_asg","module_address":"module.asg","mode":"managed","type":"aws_autoscaling_group","name":"app_asg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:autoscaling:us-east-1:143100457386:autoScalingGroup:d587cc82-b743-46bd-83b6-c650b8ae0666:autoScalingGroupName/tpcloudv2-asg","availability_zone_distribution":[{"capacity_distribution_strategy":"balanced-best-effort"}],"availability_zones":["us-east-1a","us-east-1b"],"capacity_rebalance":false,"capacity_reservation_specification":[{"capacity_reservation_preference":"default","capacity_reservation_target":[]}],"context":"","default_cooldown":300,"default_instance_warmup":0,"desired_capacity":1,"desired_capacity_type":"","enabled_metrics":[],"force_delete":false,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"ELB","id":"tpcloudv2-asg","ignore_failed_scaling_activities":false,"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_configuration":"","launch_template":[{"id":"lt-032a4af80bf14053e","name":"tpcloudv2-lt-20251105095059396300000004","version":"$Latest"}],"load_balancers":[],"max_instance_lifetime":0,"max_size":2,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":1,"mixed_instances_policy":[],"name":"tpcloudv2-asg","name_prefix":"","placement_group":"","predicted_capacity":0,"protect_from_scale_in":false,"service_linked_role_arn":"arn:aws:iam::143100457386:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling","suspended_processes":[],"tag":[{"key":"Name","propagate_at_launch":true,"value":"tpcloudv2-asg"}],"target_group_arns":["arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7"],"termination_policies":[],"timeouts":null,"traffic_source":[{"identifier":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","type":"elbv2"}],"vpc_zone_identifier":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[],"warm_pool_size":0},"after":{"arn":"arn:aws:autoscaling:us-east-1:143100457386:autoScalingGroup:d587cc82-b743-46bd-83b6-c650b8ae0666:autoScalingGroupName/tpcloudv2-asg","availability_zone_distribution":[{"capacity_distribution_strategy":"balanced-best-effort"}],"availability_zones":["us-east-1a","us-east-1b"],"capacity_rebalance":false,"capacity_reservation_specification":[{"capacity_reservation_preference":"default","capacity_reservation_target":[]}],"context":"","default_cooldown":300,"default_instance_warmup":0,"desired_capacity":2,"desired_capacity_type":"","enabled_metrics":[],"force_delete":false,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"ELB","id":"tpcloudv2-asg","ignore_failed_scaling_activities":false,"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_configuration":"","launch_template":[{"id":"lt-032a4af80bf14053e","name":"tpcloudv2-lt-20251105095059396300000004","version":"$Latest"}],"load_balancers":[],"max_instance_lifetime":0,"max_size":3,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":2,"mixed_instances_policy":[],"name":"tpcloudv2-asg","name_prefix":"","placement_group":"","predicted_capacity":0,"protect_from_scale_in":false,"service_linked_role_arn":"arn:aws:iam::143100457386:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling","suspended_processes":[],"tag":[{"key":"Name","propagate_at_launch":true,"value":"tpcloudv2-asg"}],"target_group_arns":["arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7"],"termination_policies":[],"timeouts":null,"traffic_source":[{"identifier":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","type":"elbv2"}],"vpc_zone_identifier":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[],"warm_pool_size":0},"after_unknown":{},"before_sensitive":{"availability_zone_distribution":[{}],"availability_zones":[false,false],"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"enabled_metrics":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"suspended_processes":[],"tag":[{}],"target_group_arns":[false],"termination_policies":[],"traffic_source":[{}],"vpc_zone_identifier":[false,false],"warm_pool":[]},"after_sensitive":{"availability_zone_distribution":[{}],"availability_zones":[false,false],"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"enabled_metrics":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"suspended_processes":[],"tag":[{}],"target_group_arns":[false],"termination_policies":[],"traffic_source":[{}],"vpc_zone_identifier":[false,false],"warm_pool":[]}}},{"address":"module.asg.aws_launch_template.app","module_address":"module.asg","mode":"managed","type":"aws_launch_template","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:launch-template/lt-032a4af80bf14053e","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{"arn":"","name":"tpcloudv2-ec2-profile"}],"id":"lt-032a4af80bf14053e","image_id":"ami-0601422bf6afa8ac3","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"t3.micro","kernel_id":"","key_name":"","latest_version":6,"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"name":"tpcloudv2-lt-20251105095059396300000004","name_prefix":"tpcloudv2-lt-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":[],"tag_specifications":[{"resource_type":"instance","tags":{"Name":"tpcloudv2-instance"}}],"tags":{},"tags_all":{},"update_default_version":null,"user_data":"IyEvYmluL2Jhc2gKIyB1cGRhdGUgcGFja2FnZXMKaWYgY29tbWFuZCAtdiBhcHQtZ2V0ID4vZGV2L251bGwgMj4mMTsgdGhlbiBhcHQtZ2V0IHVwZGF0ZSAteSB8fCB0cnVlOyBlbHNlIHl1bSB1cGRhdGUgLXkgfHwgdHJ1ZTsgZmkKIyBUcnkgdG8gaW5zdGFsbCBhbmQgc3RhcnQgU1NNIGFnZW50IHNvIHdlIGNhbiBkZWJ1ZyBpbnN0YW5jZXMgdmlhIFNTTSAoYmVzdC1lZmZvcnQpCmlmIGNvbW1hbmQgLXYgeXVtID4vZGV2L251bGwgMj4mMTsgdGhlbgogIHl1bSBpbnN0YWxsIC15IGFtYXpvbi1zc20tYWdlbnQgfHwgdHJ1ZQogIHN5c3RlbWN0bCBlbmFibGUgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCiAgc3lzdGVtY3RsIHN0YXJ0IGFtYXpvbi1zc20tYWdlbnQgfHwgdHJ1ZQplbGlmIGNvbW1hbmQgLXYgYXB0LWdldCA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAjIHNvbWUgZGlzdHJvcyBwcm92aWRlIGFtYXpvbi1zc20tYWdlbnQgdmlhIHBhY2thZ2UsIG90aGVycyByZXF1aXJlIHRoZSBkZWIgZnJvbSBTMzsKICBhcHQtZ2V0IGluc3RhbGwgLXkgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCiAgc3lzdGVtY3RsIGVuYWJsZSBhbWF6b24tc3NtLWFnZW50IHx8IHRydWUKICBzeXN0ZW1jdGwgc3RhcnQgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCmZpCiMgSW5zdGFsbCBhbmQgc3RhcnQgbmdpbnggKGJlc3QtZWZmb3J0KQppZiBjb21tYW5kIC12IGFwdC1nZXQgPi9kZXYvbnVsbCAyPiYxOyB0aGVuCiAgYXB0LWdldCBpbnN0YWxsIC15IG5naW54IHx8IHRydWUKICBzeXN0ZW1jdGwgZW5hYmxlIG5naW54IHx8IHRydWUKICBzeXN0ZW1jdGwgc3RhcnQgbmdpbnggfHwgdHJ1ZQplbHNlCiAgeXVtIGluc3RhbGwgLXkgbmdpbnggfHwgdHJ1ZQogIHN5c3RlbWN0bCBlbmFibGUgbmdpbnggfHwgdHJ1ZQogIHN5c3RlbWN0bCBzdGFydCBuZ2lueCB8fCB0cnVlCmZpCiMgRW5zdXJlIHdlYiByb290IGV4aXN0cwpta2RpciAtcCAvdmFyL3d3dy9odG1sIHx8IHRydWUKIyBHZW5lcmF0ZSBhbiBpbmRleCBwYWdlIHRoYXQgc2hvd3MgaG9zdG5hbWUgYW5kIHByaXZhdGUgSVAgc28gd2UgY2FuIGRlbW9uc3RyYXRlIGxvYWQtYmFsYW5jaW5nCklQPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9tZXRhLWRhdGEvbG9jYWwtaXB2NCB8fCBob3N0bmFtZSAtSSB8IGF3ayAne3ByaW50ICQxfScpCkhPU1ROQU1FPSQoaG9zdG5hbWUpCmNhdCA+L3Zhci93d3cvaHRtbC9pbmRleC5odG1sIDw8RU9GCkhlbGxvIGZyb20gaW5zdGFuY2UKSG9zdG5hbWU6ICRIT1NUTkFNRQpJUDogJElQCkVPRgojIElmIG5naW54IGlzbid0IHJ1bm5pbmcsIHN0YXJ0IGEgcHl0aG9uMyBodHRwLnNlcnZlciBmYWxsYmFjayB0byBzZXJ2ZSB0aGUgcGFnZQppZiAhIHN5c3RlbWN0bCBpcy1hY3RpdmUgLS1xdWlldCBuZ2lueCAyPi9kZXYvbnVsbDsgdGhlbgogIGlmIGNvbW1hbmQgLXYgcHl0aG9uMyA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAgIG5vaHVwIHB5dGhvbjMgLW0gaHR0cC5zZXJ2ZXIgODAgLWQgL3Zhci93d3cvaHRtbCA+L3Zhci9sb2cvcHl0aG9uLWh0dHAubG9nIDI+JjEgJgogIGZpCmZpCg==","vpc_security_group_ids":["sg-09652d4936cec9b94"]},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:launch-template/lt-032a4af80bf14053e","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{"arn":"","name":"tpcloudv2-ec2-profile"}],"id":"lt-032a4af80bf14053e","image_id":"ami-0601422bf6afa8ac3","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"t3.micro","kernel_id":"","key_name":"","latest_version":6,"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"name":"tpcloudv2-lt-20251105095059396300000004","name_prefix":"tpcloudv2-lt-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":[],"tag_specifications":[{"resource_type":"instance","tags":{"Name":"tpcloudv2-instance"}}],"tags":{},"tags_all":{},"update_default_version":null,"user_data":"IyEvYmluL2Jhc2gKIyB1cGRhdGUgcGFja2FnZXMKaWYgY29tbWFuZCAtdiBhcHQtZ2V0ID4vZGV2L251bGwgMj4mMTsgdGhlbiBhcHQtZ2V0IHVwZGF0ZSAteSB8fCB0cnVlOyBlbHNlIHl1bSB1cGRhdGUgLXkgfHwgdHJ1ZTsgZmkKIyBUcnkgdG8gaW5zdGFsbCBhbmQgc3RhcnQgU1NNIGFnZW50IHNvIHdlIGNhbiBkZWJ1ZyBpbnN0YW5jZXMgdmlhIFNTTSAoYmVzdC1lZmZvcnQpCmlmIGNvbW1hbmQgLXYgeXVtID4vZGV2L251bGwgMj4mMTsgdGhlbgogIHl1bSBpbnN0YWxsIC15IGFtYXpvbi1zc20tYWdlbnQgfHwgdHJ1ZQogIHN5c3RlbWN0bCBlbmFibGUgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCiAgc3lzdGVtY3RsIHN0YXJ0IGFtYXpvbi1zc20tYWdlbnQgfHwgdHJ1ZQplbGlmIGNvbW1hbmQgLXYgYXB0LWdldCA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAjIHNvbWUgZGlzdHJvcyBwcm92aWRlIGFtYXpvbi1zc20tYWdlbnQgdmlhIHBhY2thZ2UsIG90aGVycyByZXF1aXJlIHRoZSBkZWIgZnJvbSBTMzsKICBhcHQtZ2V0IGluc3RhbGwgLXkgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCiAgc3lzdGVtY3RsIGVuYWJsZSBhbWF6b24tc3NtLWFnZW50IHx8IHRydWUKICBzeXN0ZW1jdGwgc3RhcnQgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCmZpCiMgSW5zdGFsbCBhbmQgc3RhcnQgbmdpbnggKGJlc3QtZWZmb3J0KQppZiBjb21tYW5kIC12IGFwdC1nZXQgPi9kZXYvbnVsbCAyPiYxOyB0aGVuCiAgYXB0LWdldCBpbnN0YWxsIC15IG5naW54IHx8IHRydWUKICBzeXN0ZW1jdGwgZW5hYmxlIG5naW54IHx8IHRydWUKICBzeXN0ZW1jdGwgc3RhcnQgbmdpbnggfHwgdHJ1ZQplbHNlCiAgeXVtIGluc3RhbGwgLXkgbmdpbnggfHwgdHJ1ZQogIHN5c3RlbWN0bCBlbmFibGUgbmdpbnggfHwgdHJ1ZQogIHN5c3RlbWN0bCBzdGFydCBuZ2lueCB8fCB0cnVlCmZpCiMgRW5zdXJlIHdlYiByb290IGV4aXN0cwpta2RpciAtcCAvdmFyL3d3dy9odG1sIHx8IHRydWUKIyBHZW5lcmF0ZSBhbiBpbmRleCBwYWdlIHRoYXQgc2hvd3MgaG9zdG5hbWUgYW5kIHByaXZhdGUgSVAgc28gd2UgY2FuIGRlbW9uc3RyYXRlIGxvYWQtYmFsYW5jaW5nCklQPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9tZXRhLWRhdGEvbG9jYWwtaXB2NCB8fCBob3N0bmFtZSAtSSB8IGF3ayAne3ByaW50ICQxfScpCkhPU1ROQU1FPSQoaG9zdG5hbWUpCmNhdCA+L3Zhci93d3cvaHRtbC9pbmRleC5odG1sIDw8RU9GCkhlbGxvIGZyb20gaW5zdGFuY2UKSG9zdG5hbWU6ICRIT1NUTkFNRQpJUDogJElQCkVPRgojIElmIG5naW54IGlzbid0IHJ1bm5pbmcsIHN0YXJ0IGEgcHl0aG9uMyBodHRwLnNlcnZlciBmYWxsYmFjayB0byBzZXJ2ZSB0aGUgcGFnZQppZiAhIHN5c3RlbWN0bCBpcy1hY3RpdmUgLS1xdWlldCBuZ2lueCAyPi9kZXYvbnVsbDsgdGhlbgogIGlmIGNvbW1hbmQgLXYgcHl0aG9uMyA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAgIG5vaHVwIHB5dGhvbjMgLW0gaHR0cC5zZXJ2ZXIgODAgLWQgL3Zhci93d3cvaHRtbCA+L3Zhci9sb2cvcHl0aG9uLWh0dHAubG9nIDI+JjEgJgogIGZpCmZpCg==","vpc_security_group_ids":["sg-09652d4936cec9b94"]},"after_unknown":{},"before_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{}],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{}],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}},{"address":"module.backup.aws_backup_plan.daily","module_address":"module.backup","mode":"managed","type":"aws_backup_plan","name":"daily","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"advanced_backup_setting":[],"arn":"arn:aws:backup:us-east-1:143100457386:backup-plan:c15605c5-48c4-4126-a5d2-8821fe07852c","id":"c15605c5-48c4-4126-a5d2-8821fe07852c","name":"tpcloudv2-daily-backup","rule":[{"completion_window":180,"copy_action":[],"enable_continuous_backup":false,"lifecycle":[{"cold_storage_after":0,"delete_after":90,"opt_in_to_archive_for_supported_resources":false}],"recovery_point_tags":{},"rule_name":"daily-rule","schedule":"cron(0 5 ? * * *)","schedule_expression_timezone":"Etc/UTC","start_window":60,"target_vault_name":"tpcloudv2-backup-vault"}],"tags":{},"tags_all":{},"version":"MmFhMTU4YmYtZGU0NS00NGRiLWIyNTYtNWVjNTQyNDEzOWFi"},"after":{"advanced_backup_setting":[],"arn":"arn:aws:backup:us-east-1:143100457386:backup-plan:c15605c5-48c4-4126-a5d2-8821fe07852c","id":"c15605c5-48c4-4126-a5d2-8821fe07852c","name":"tpcloudv2-daily-backup","rule":[{"completion_window":180,"copy_action":[],"enable_continuous_backup":false,"lifecycle":[{"cold_storage_after":0,"delete_after":90,"opt_in_to_archive_for_supported_resources":false}],"recovery_point_tags":{},"rule_name":"daily-rule","schedule":"cron(0 5 ? * * *)","schedule_expression_timezone":"Etc/UTC","start_window":60,"target_vault_name":"tpcloudv2-backup-vault"}],"tags":{},"tags_all":{},"version":"MmFhMTU4YmYtZGU0NS00NGRiLWIyNTYtNWVjNTQyNDEzOWFi"},"after_unknown":{},"before_sensitive":{"advanced_backup_setting":[],"rule":[{"copy_action":[],"lifecycle":[{}],"recovery_point_tags":{}}],"tags":{},"tags_all":{}},"after_sensitive":{"advanced_backup_setting":[],"rule":[{"copy_action":[],"lifecycle":[{}],"recovery_point_tags":{}}],"tags":{},"tags_all":{}}}},{"address":"module.backup.aws_backup_selection.selection","module_address":"module.backup","mode":"managed","type":"aws_backup_selection","name":"selection","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"condition":[{"string_equals":[],"string_like":[],"string_not_equals":[],"string_not_like":[]}],"iam_role_arn":"arn:aws:iam::143100457386:role/tpcloudv2-backup-role","id":"00755b40-6ae0-4311-8b54-a3da3c3b6362","name":"tpcloudv2-selection","not_resources":[],"plan_id":"c15605c5-48c4-4126-a5d2-8821fe07852c","resources":["arn:aws:rds:us-east-1:143100457386:db:tpcloudv2-mysql","arn:aws:s3:::tpcloudv2-5c651390"],"selection_tag":[]},"after":{"condition":[{"string_equals":[],"string_like":[],"string_not_equals":[],"string_not_like":[]}],"iam_role_arn":"arn:aws:iam::143100457386:role/tpcloudv2-backup-role","id":"00755b40-6ae0-4311-8b54-a3da3c3b6362","name":"tpcloudv2-selection","not_resources":[],"plan_id":"c15605c5-48c4-4126-a5d2-8821fe07852c","resources":["arn:aws:rds:us-east-1:143100457386:db:tpcloudv2-mysql","arn:aws:s3:::tpcloudv2-5c651390"],"selection_tag":[]},"after_unknown":{},"before_sensitive":{"condition":[{"string_equals":[],"string_like":[],"string_not_equals":[],"string_not_like":[]}],"not_resources":[],"resources":[false,false],"selection_tag":[]},"after_sensitive":{"condition":[{"string_equals":[],"string_like":[],"string_not_equals":[],"string_not_like":[]}],"not_resources":[],"resources":[false,false],"selection_tag":[]}}},{"address":"module.backup.aws_backup_vault.this","module_address":"module.backup","mode":"managed","type":"aws_backup_vault","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:backup:us-east-1:143100457386:backup-vault:tpcloudv2-backup-vault","force_destroy":false,"id":"tpcloudv2-backup-vault","kms_key_arn":"arn:aws:kms:us-east-1:143100457386:key/7d9aaeae-51da-491b-a579-97e3b9248297","name":"tpcloudv2-backup-vault","recovery_points":0,"tags":{},"tags_all":{},"timeouts":null},"after":{"arn":"arn:aws:backup:us-east-1:143100457386:backup-vault:tpcloudv2-backup-vault","force_destroy":false,"id":"tpcloudv2-backup-vault","kms_key_arn":"arn:aws:kms:us-east-1:143100457386:key/7d9aaeae-51da-491b-a579-97e3b9248297","name":"tpcloudv2-backup-vault","recovery_points":0,"tags":{},"tags_all":{},"timeouts":null},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.backup.aws_iam_role.backup_role","module_address":"module.backup","mode":"managed","type":"aws_iam_role","name":"backup_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::143100457386:role/tpcloudv2-backup-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"backup.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-05T10:54:46Z","description":"","force_detach_policies":false,"id":"tpcloudv2-backup-role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup"],"max_session_duration":3600,"name":"tpcloudv2-backup-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROASCULTWGVLYTRAOK3P"},"after":{"arn":"arn:aws:iam::143100457386:role/tpcloudv2-backup-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"backup.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-05T10:54:46Z","description":"","force_detach_policies":false,"id":"tpcloudv2-backup-role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup"],"max_session_duration":3600,"name":"tpcloudv2-backup-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROASCULTWGVLYTRAOK3P"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"tags":{},"tags_all":{}}}},{"address":"module.backup.aws_iam_role_policy_attachment.backup_attach","module_address":"module.backup","mode":"managed","type":"aws_iam_role_policy_attachment","name":"backup_attach","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"tpcloudv2-backup-role-20251105105448381400000001","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup","role":"tpcloudv2-backup-role"},"after":{"id":"tpcloudv2-backup-role-20251105105448381400000001","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup","role":"tpcloudv2-backup-role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.db.aws_db_instance.mysql","module_address":"module.db","mode":"managed","type":"aws_db_instance","name":"mysql","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"address":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com","allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"arn":"arn:aws:rds:us-east-1:143100457386:db:tpcloudv2-mysql","auto_minor_version_upgrade":true,"availability_zone":"us-east-1b","backup_retention_period":0,"backup_target":"region","backup_window":"06:16-06:46","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"database_insights_mode":"standard","db_name":"tpcloudv2db","db_subnet_group_name":"tpcloudv2-db-subnet-group","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":[],"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":[],"endpoint":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com:3306","engine":"mysql","engine_lifecycle_support":"open-source-rds-extended-support","engine_version":"8.0","engine_version_actual":"8.0.42","final_snapshot_identifier":null,"hosted_zone_id":"Z2R2ITUGPM61AM","iam_database_authentication_enabled":false,"id":"db-J6G6WKDSFKSESLOCPAHE43CBIE","identifier":"tpcloudv2-mysql","identifier_prefix":"","instance_class":"db.t3.micro","iops":0,"kms_key_id":"arn:aws:kms:us-east-1:143100457386:key/f7655d19-a860-452e-9f07-06f428e42c8a","latest_restorable_time":"","license_model":"general-public-license","listener_endpoint":[],"maintenance_window":"mon:03:09-mon:03:39","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":0,"monitoring_interval":0,"monitoring_role_arn":"","multi_az":true,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:mysql-8-0","parameter_group_name":"default.mysql8.0","password":"m7kKGxx1TJN0y50t","password_wo":null,"password_wo_version":null,"performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"publicly_accessible":false,"replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-J6G6WKDSFKSESLOCPAHE43CBIE","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":true,"storage_throughput":0,"storage_type":"gp2","tags":{"Name":"tpcloudv2-mysql"},"tags_all":{"Name":"tpcloudv2-mysql"},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0b247b4791656c70a"]},"after":{"address":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com","allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"arn":"arn:aws:rds:us-east-1:143100457386:db:tpcloudv2-mysql","auto_minor_version_upgrade":true,"availability_zone":"us-east-1b","backup_retention_period":0,"backup_target":"region","backup_window":"06:16-06:46","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"database_insights_mode":"standard","db_name":"tpcloudv2db","db_subnet_group_name":"tpcloudv2-db-subnet-group","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":[],"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":[],"endpoint":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com:3306","engine":"mysql","engine_lifecycle_support":"open-source-rds-extended-support","engine_version":"8.0","engine_version_actual":"8.0.42","final_snapshot_identifier":null,"hosted_zone_id":"Z2R2ITUGPM61AM","iam_database_authentication_enabled":false,"id":"db-J6G6WKDSFKSESLOCPAHE43CBIE","identifier":"tpcloudv2-mysql","identifier_prefix":"","instance_class":"db.t3.micro","iops":0,"kms_key_id":"arn:aws:kms:us-east-1:143100457386:key/f7655d19-a860-452e-9f07-06f428e42c8a","latest_restorable_time":"","license_model":"general-public-license","listener_endpoint":[],"maintenance_window":"mon:03:09-mon:03:39","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":0,"monitoring_interval":0,"monitoring_role_arn":"","multi_az":true,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:mysql-8-0","parameter_group_name":"default.mysql8.0","password":"m7kKGxx1TJN0y50t","password_wo":null,"password_wo_version":null,"performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"publicly_accessible":false,"replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-J6G6WKDSFKSESLOCPAHE43CBIE","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":true,"storage_throughput":0,"storage_type":"gp2","tags":{"Name":"tpcloudv2-mysql"},"tags_all":{"Name":"tpcloudv2-mysql"},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0b247b4791656c70a"]},"after_unknown":{},"before_sensitive":{"blue_green_update":[],"domain_dns_ips":[],"enabled_cloudwatch_logs_exports":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"blue_green_update":[],"domain_dns_ips":[],"enabled_cloudwatch_logs_exports":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}},{"address":"module.db.aws_db_subnet_group.this","module_address":"module.db","mode":"managed","type":"aws_db_subnet_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:rds:us-east-1:143100457386:subgrp:tpcloudv2-db-subnet-group","description":"Managed by Terraform","id":"tpcloudv2-db-subnet-group","name":"tpcloudv2-db-subnet-group","name_prefix":"","subnet_ids":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"supported_network_types":["IPV4"],"tags":{"Name":"tpcloudv2-db-subnet-group"},"tags_all":{"Name":"tpcloudv2-db-subnet-group"},"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:rds:us-east-1:143100457386:subgrp:tpcloudv2-db-subnet-group","description":"Managed by Terraform","id":"tpcloudv2-db-subnet-group","name":"tpcloudv2-db-subnet-group","name_prefix":"","subnet_ids":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"supported_network_types":["IPV4"],"tags":{"Name":"tpcloudv2-db-subnet-group"},"tags_all":{"Name":"tpcloudv2-db-subnet-group"},"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"subnet_ids":[false,false],"supported_network_types":[false],"tags":{},"tags_all":{}},"after_sensitive":{"subnet_ids":[false,false],"supported_network_types":[false],"tags":{},"tags_all":{}}}},{"address":"module.db.random_password.db","module_address":"module.db","mode":"managed","type":"random_password","name":"db","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["no-op"],"before":{"bcrypt_hash":"$2a$10$E574BUigqD404iihHqgXZeREGebJyjEJIu7544EkgREoTcsnDiB96","id":"none","keepers":null,"length":16,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"result":"m7kKGxx1TJN0y50t","special":false,"upper":true},"after":{"bcrypt_hash":"$2a$10$E574BUigqD404iihHqgXZeREGebJyjEJIu7544EkgREoTcsnDiB96","id":"none","keepers":null,"length":16,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"result":"m7kKGxx1TJN0y50t","special":false,"upper":true},"after_unknown":{},"before_sensitive":{"bcrypt_hash":true,"result":true},"after_sensitive":{"bcrypt_hash":true,"result":true}}},{"address":"module.iam.aws_iam_instance_profile.ec2_profile","module_address":"module.iam","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_profile","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::143100457386:instance-profile/tpcloudv2-ec2-profile","create_date":"2025-11-05T10:49:44Z","id":"tpcloudv2-ec2-profile","name":"tpcloudv2-ec2-profile","name_prefix":"","path":"/","role":"tpcloudv2-ec2-role","tags":{},"tags_all":{},"unique_id":"AIPASCULTWGVP3ZCLG4J6"},"after":{"arn":"arn:aws:iam::143100457386:instance-profile/tpcloudv2-ec2-profile","create_date":"2025-11-05T10:49:44Z","id":"tpcloudv2-ec2-profile","name":"tpcloudv2-ec2-profile","name_prefix":"","path":"/","role":"tpcloudv2-ec2-role","tags":{},"tags_all":{},"unique_id":"AIPASCULTWGVP3ZCLG4J6"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.ec2_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::143100457386:role/tpcloudv2-ec2-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-05T10:49:43Z","description":"","force_detach_policies":false,"id":"tpcloudv2-ec2-role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess","arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"],"max_session_duration":3600,"name":"tpcloudv2-ec2-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROASCULTWGVOFMX7TOBU"},"after":{"arn":"arn:aws:iam::143100457386:role/tpcloudv2-ec2-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-05T10:49:43Z","description":"","force_detach_policies":false,"id":"tpcloudv2-ec2-role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess","arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"],"max_session_duration":3600,"name":"tpcloudv2-ec2-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROASCULTWGVOFMX7TOBU"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role_policy_attachment.s3_read","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"s3_read","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"tpcloudv2-ec2-role-20251105104944341100000002","policy_arn":"arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess","role":"tpcloudv2-ec2-role"},"after":{"id":"tpcloudv2-ec2-role-20251105104944341100000002","policy_arn":"arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess","role":"tpcloudv2-ec2-role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ssm","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ssm","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"tpcloudv2-ec2-role-20251105104944174900000001","policy_arn":"arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore","role":"tpcloudv2-ec2-role"},"after":{"id":"tpcloudv2-ec2-role-20251105104944174900000001","policy_arn":"arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore","role":"tpcloudv2-ec2-role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.monitoring.aws_cloudwatch_metric_alarm.asg_below_min","module_address":"module.monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"asg_below_min","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"actions_enabled":true,"alarm_actions":[],"alarm_description":"Alarm if Auto Scaling Group has fewer than 1 InService instance","alarm_name":"tpcloudv2-asg-below-min","arn":"arn:aws:cloudwatch:us-east-1:143100457386:alarm:tpcloudv2-asg-below-min","comparison_operator":"LessThanThreshold","datapoints_to_alarm":0,"dimensions":{"AutoScalingGroupName":"tpcloudv2-asg"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"tpcloudv2-asg-below-min","insufficient_data_actions":[],"metric_name":"GroupInServiceInstances","metric_query":[],"namespace":"AWS/AutoScaling","ok_actions":[],"period":60,"statistic":"Minimum","tags":{},"tags_all":{},"threshold":1,"threshold_metric_id":"","treat_missing_data":"missing","unit":""},"after":{"actions_enabled":true,"alarm_actions":[],"alarm_description":"Alarm if Auto Scaling Group has fewer than 1 InService instance","alarm_name":"tpcloudv2-asg-below-min","arn":"arn:aws:cloudwatch:us-east-1:143100457386:alarm:tpcloudv2-asg-below-min","comparison_operator":"LessThanThreshold","datapoints_to_alarm":0,"dimensions":{"AutoScalingGroupName":"tpcloudv2-asg"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"tpcloudv2-asg-below-min","insufficient_data_actions":[],"metric_name":"GroupInServiceInstances","metric_query":[],"namespace":"AWS/AutoScaling","ok_actions":[],"period":60,"statistic":"Minimum","tags":{},"tags_all":{},"threshold":1,"threshold_metric_id":"","treat_missing_data":"missing","unit":""},"after_unknown":{},"before_sensitive":{"alarm_actions":[],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}},"after_sensitive":{"alarm_actions":[],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}}}},{"address":"module.monitoring.aws_cloudwatch_metric_alarm.rds_cpu_high","module_address":"module.monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"rds_cpu_high","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"actions_enabled":true,"alarm_actions":[],"alarm_description":"Alarm if RDS CPU \u003e 70% for 5 minutes","alarm_name":"tpcloudv2-rds-cpu-high","arn":"arn:aws:cloudwatch:us-east-1:143100457386:alarm:tpcloudv2-rds-cpu-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"DBInstanceIdentifier":"db-J6G6WKDSFKSESLOCPAHE43CBIE"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":5,"extended_statistic":"","id":"tpcloudv2-rds-cpu-high","insufficient_data_actions":[],"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/RDS","ok_actions":[],"period":60,"statistic":"Average","tags":{},"tags_all":{},"threshold":70,"threshold_metric_id":"","treat_missing_data":"missing","unit":""},"after":{"actions_enabled":true,"alarm_actions":[],"alarm_description":"Alarm if RDS CPU \u003e 70% for 5 minutes","alarm_name":"tpcloudv2-rds-cpu-high","arn":"arn:aws:cloudwatch:us-east-1:143100457386:alarm:tpcloudv2-rds-cpu-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"DBInstanceIdentifier":"db-J6G6WKDSFKSESLOCPAHE43CBIE"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":5,"extended_statistic":"","id":"tpcloudv2-rds-cpu-high","insufficient_data_actions":[],"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/RDS","ok_actions":[],"period":60,"statistic":"Average","tags":{},"tags_all":{},"threshold":70,"threshold_metric_id":"","treat_missing_data":"missing","unit":""},"after_unknown":{},"before_sensitive":{"alarm_actions":[],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}},"after_sensitive":{"alarm_actions":[],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}}}},{"address":"module.s3.aws_s3_bucket.app_bucket","module_address":"module.s3","mode":"managed","type":"aws_s3_bucket","name":"app_bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::tpcloudv2-5c651390","bucket":"tpcloudv2-5c651390","bucket_domain_name":"tpcloudv2-5c651390.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"tpcloudv2-5c651390.s3.us-east-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"317523b7aae7a90a380cb06609ece5d31d9c0f5d5b5a328eaf48739e0f7d07c1","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"tpcloudv2-5c651390","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":365,"expired_object_delete_marker":false}],"id":"keep-current","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"Name":"tpcloudv2-5c651390"},"tags_all":{"Name":"tpcloudv2-5c651390"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::tpcloudv2-5c651390","bucket":"tpcloudv2-5c651390","bucket_domain_name":"tpcloudv2-5c651390.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"tpcloudv2-5c651390.s3.us-east-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"317523b7aae7a90a380cb06609ece5d31d9c0f5d5b5a328eaf48739e0f7d07c1","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"tpcloudv2-5c651390","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":365,"expired_object_delete_marker":false}],"id":"keep-current","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"Name":"tpcloudv2-5c651390"},"tags_all":{"Name":"tpcloudv2-5c651390"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after_unknown":{},"before_sensitive":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]},"after_sensitive":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]}}},{"address":"module.s3.aws_s3_bucket_lifecycle_configuration.app_bucket_lifecycle","module_address":"module.s3","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"app_bucket_lifecycle","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":365,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"keep-current","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":365,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"keep-current","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{},"before_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]},"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]}}},{"address":"module.s3.aws_s3_bucket_server_side_encryption_configuration.app_bucket_sse","module_address":"module.s3","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"app_bucket_sse","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]},"after":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]},"after_unknown":{},"before_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]},"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"module.s3.aws_s3_bucket_versioning.app_bucket_versioning","module_address":"module.s3","mode":"managed","type":"aws_s3_bucket_versioning","name":"app_bucket_versioning","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"after":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"after_unknown":{},"before_sensitive":{"versioning_configuration":[{}]},"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"module.s3.random_id.bucket_suffix","module_address":"module.s3","mode":"managed","type":"random_id","name":"bucket_suffix","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["no-op"],"before":{"b64_std":"XGUTkA==","b64_url":"XGUTkA","byte_length":4,"dec":"1550128016","hex":"5c651390","id":"XGUTkA","keepers":null,"prefix":null},"after":{"b64_std":"XGUTkA==","b64_url":"XGUTkA","byte_length":4,"dec":"1550128016","hex":"5c651390","id":"XGUTkA","keepers":null,"prefix":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.security.aws_network_acl.private_nacl","module_address":"module.security","mode":"managed","type":"aws_network_acl","name":"private_nacl","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:network-acl/acl-0b436c6d3e30f6d4d","egress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"id":"acl-0b436c6d3e30f6d4d","ingress":[{"action":"allow","cidr_block":"10.0.0.0/16","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"owner_id":"143100457386","subnet_ids":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"tags":{"Name":"tpcloudv2-private-nacl"},"tags_all":{"Name":"tpcloudv2-private-nacl"},"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:network-acl/acl-0b436c6d3e30f6d4d","egress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"id":"acl-0b436c6d3e30f6d4d","ingress":[{"action":"allow","cidr_block":"10.0.0.0/16","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"owner_id":"143100457386","subnet_ids":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"tags":{"Name":"tpcloudv2-private-nacl"},"tags_all":{"Name":"tpcloudv2-private-nacl"},"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"egress":[{}],"ingress":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{}],"ingress":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{}}}},{"address":"module.security.aws_network_acl_association.private_nacl_assoc[0]","module_address":"module.security","mode":"managed","type":"aws_network_acl_association","name":"private_nacl_assoc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"aclassoc-0e00f6f43fcdcf6ad","network_acl_id":"acl-0b436c6d3e30f6d4d","subnet_id":"subnet-006ed3de19f0f6ee8"},"after":{"id":"aclassoc-0e00f6f43fcdcf6ad","network_acl_id":"acl-0b436c6d3e30f6d4d","subnet_id":"subnet-006ed3de19f0f6ee8"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.security.aws_network_acl_association.private_nacl_assoc[1]","module_address":"module.security","mode":"managed","type":"aws_network_acl_association","name":"private_nacl_assoc","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"aclassoc-09f4bc0bb1683c177","network_acl_id":"acl-0b436c6d3e30f6d4d","subnet_id":"subnet-0810ab3ca52b5beeb"},"after":{"id":"aclassoc-09f4bc0bb1683c177","network_acl_id":"acl-0b436c6d3e30f6d4d","subnet_id":"subnet-0810ab3ca52b5beeb"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.security.aws_network_acl_rule.private_allow_all_inbound","module_address":"module.security","mode":"managed","type":"aws_network_acl_rule","name":"private_allow_all_inbound","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_block":"10.0.0.0/16","egress":false,"from_port":null,"icmp_code":null,"icmp_type":null,"id":"nacl-3960600231","ipv6_cidr_block":"","network_acl_id":"acl-0b436c6d3e30f6d4d","protocol":"-1","rule_action":"allow","rule_number":100,"to_port":null},"after":{"cidr_block":"10.0.0.0/16","egress":false,"from_port":null,"icmp_code":null,"icmp_type":null,"id":"nacl-3960600231","ipv6_cidr_block":"","network_acl_id":"acl-0b436c6d3e30f6d4d","protocol":"-1","rule_action":"allow","rule_number":100,"to_port":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.security.aws_network_acl_rule.private_allow_all_outbound","module_address":"module.security","mode":"managed","type":"aws_network_acl_rule","name":"private_allow_all_outbound","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_block":"0.0.0.0/0","egress":true,"from_port":null,"icmp_code":null,"icmp_type":null,"id":"nacl-1919484286","ipv6_cidr_block":"","network_acl_id":"acl-0b436c6d3e30f6d4d","protocol":"-1","rule_action":"allow","rule_number":100,"to_port":null},"after":{"cidr_block":"0.0.0.0/0","egress":true,"from_port":null,"icmp_code":null,"icmp_type":null,"id":"nacl-1919484286","ipv6_cidr_block":"","network_acl_id":"acl-0b436c6d3e30f6d4d","protocol":"-1","rule_action":"allow","rule_number":100,"to_port":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.security.aws_security_group.db_sg","module_address":"module.security","mode":"managed","type":"aws_security_group","name":"db_sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:security-group/sg-0b247b4791656c70a","description":"db sg","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0b247b4791656c70a","ingress":[{"cidr_blocks":["10.0.0.0/16"],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306}],"name":"tpcloudv2-db-sg","name_prefix":"","owner_id":"143100457386","revoke_rules_on_delete":false,"tags":{"Name":"tpcloudv2-db-sg"},"tags_all":{"Name":"tpcloudv2-db-sg"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:security-group/sg-0b247b4791656c70a","description":"db sg","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0b247b4791656c70a","ingress":[{"cidr_blocks":["10.0.0.0/16"],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306}],"name":"tpcloudv2-db-sg","name_prefix":"","owner_id":"143100457386","revoke_rules_on_delete":false,"tags":{"Name":"tpcloudv2-db-sg"},"tags_all":{"Name":"tpcloudv2-db-sg"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"module.security.aws_security_group.web_sg","module_address":"module.security","mode":"managed","type":"aws_security_group","name":"web_sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:security-group/sg-09652d4936cec9b94","description":"web sg","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-09652d4936cec9b94","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"tpcloudv2-web-sg","name_prefix":"","owner_id":"143100457386","revoke_rules_on_delete":false,"tags":{"Name":"tpcloudv2-web-sg"},"tags_all":{"Name":"tpcloudv2-web-sg"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:security-group/sg-09652d4936cec9b94","description":"web sg","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-09652d4936cec9b94","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"tpcloudv2-web-sg","name_prefix":"","owner_id":"143100457386","revoke_rules_on_delete":false,"tags":{"Name":"tpcloudv2-web-sg"},"tags_all":{"Name":"tpcloudv2-web-sg"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_eip.nat_eip","module_address":"module.vpc","mode":"managed","type":"aws_eip","name":"nat_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"address":null,"allocation_id":"eipalloc-0f7fa54820d8fbe51","arn":"arn:aws:ec2:us-east-1:143100457386:elastic-ip/eipalloc-0f7fa54820d8fbe51","associate_with_private_ip":null,"association_id":"eipassoc-07e723385dc69e1d6","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0f7fa54820d8fbe51","instance":"","ipam_pool_id":null,"network_border_group":"us-east-1","network_interface":"eni-086ae2203aafcaf39","private_dns":"ip-10-0-0-129.ec2.internal","private_ip":"10.0.0.129","ptr_record":"","public_dns":"ec2-44-217-206-133.compute-1.amazonaws.com","public_ip":"44.217.206.133","public_ipv4_pool":"amazon","tags":{"Name":"tpcloudv2-nat-eip"},"tags_all":{"Name":"tpcloudv2-nat-eip"},"timeouts":null,"vpc":true},"after":{"address":null,"allocation_id":"eipalloc-0f7fa54820d8fbe51","arn":"arn:aws:ec2:us-east-1:143100457386:elastic-ip/eipalloc-0f7fa54820d8fbe51","associate_with_private_ip":null,"association_id":"eipassoc-07e723385dc69e1d6","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0f7fa54820d8fbe51","instance":"","ipam_pool_id":null,"network_border_group":"us-east-1","network_interface":"eni-086ae2203aafcaf39","private_dns":"ip-10-0-0-129.ec2.internal","private_ip":"10.0.0.129","ptr_record":"","public_dns":"ec2-44-217-206-133.compute-1.amazonaws.com","public_ip":"44.217.206.133","public_ipv4_pool":"amazon","tags":{"Name":"tpcloudv2-nat-eip"},"tags_all":{"Name":"tpcloudv2-nat-eip"},"timeouts":null,"vpc":true},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_internet_gateway.igw","module_address":"module.vpc","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:internet-gateway/igw-0433499d9fda25035","id":"igw-0433499d9fda25035","owner_id":"143100457386","tags":{"Name":"tpcloudv2-igw"},"tags_all":{"Name":"tpcloudv2-igw"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:internet-gateway/igw-0433499d9fda25035","id":"igw-0433499d9fda25035","owner_id":"143100457386","tags":{"Name":"tpcloudv2-igw"},"tags_all":{"Name":"tpcloudv2-igw"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_nat_gateway.nat","module_address":"module.vpc","mode":"managed","type":"aws_nat_gateway","name":"nat","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"allocation_id":"eipalloc-0f7fa54820d8fbe51","association_id":"eipassoc-07e723385dc69e1d6","connectivity_type":"public","id":"nat-0344128bc2a1da0dd","network_interface_id":"eni-086ae2203aafcaf39","private_ip":"10.0.0.129","public_ip":"44.217.206.133","secondary_allocation_ids":[],"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-09b6a3aa7461803fb","tags":{"Name":"tpcloudv2-natgw"},"tags_all":{"Name":"tpcloudv2-natgw"},"timeouts":null},"after":{"allocation_id":"eipalloc-0f7fa54820d8fbe51","association_id":"eipassoc-07e723385dc69e1d6","connectivity_type":"public","id":"nat-0344128bc2a1da0dd","network_interface_id":"eni-086ae2203aafcaf39","private_ip":"10.0.0.129","public_ip":"44.217.206.133","secondary_allocation_ids":[],"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-09b6a3aa7461803fb","tags":{"Name":"tpcloudv2-natgw"},"tags_all":{"Name":"tpcloudv2-natgw"},"timeouts":null},"after_unknown":{},"before_sensitive":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}},"after_sensitive":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_route.private_nat","module_address":"module.vpc","mode":"managed","type":"aws_route","name":"private_nat","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","id":"r-rtb-0814ac2af68791e6e1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"nat-0344128bc2a1da0dd","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-0814ac2af68791e6e","state":"active","timeouts":null,"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"after":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","id":"r-rtb-0814ac2af68791e6e1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"nat-0344128bc2a1da0dd","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-0814ac2af68791e6e","state":"active","timeouts":null,"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_route.public_internet_access","module_address":"module.vpc","mode":"managed","type":"aws_route","name":"public_internet_access","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0433499d9fda25035","id":"r-rtb-074547108e1e5e8611080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-074547108e1e5e861","state":"active","timeouts":null,"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"after":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0433499d9fda25035","id":"r-rtb-074547108e1e5e8611080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-074547108e1e5e861","state":"active","timeouts":null,"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_route_table.private","module_address":"module.vpc","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:route-table/rtb-0814ac2af68791e6e","id":"rtb-0814ac2af68791e6e","owner_id":"143100457386","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-0344128bc2a1da0dd","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"tpcloudv2-rtb-private"},"tags_all":{"Name":"tpcloudv2-rtb-private"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:route-table/rtb-0814ac2af68791e6e","id":"rtb-0814ac2af68791e6e","owner_id":"143100457386","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-0344128bc2a1da0dd","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"tpcloudv2-rtb-private"},"tags_all":{"Name":"tpcloudv2-rtb-private"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_route_table.public","module_address":"module.vpc","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:route-table/rtb-074547108e1e5e861","id":"rtb-074547108e1e5e861","owner_id":"143100457386","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0433499d9fda25035","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"tpcloudv2-rtb-public"},"tags_all":{"Name":"tpcloudv2-rtb-public"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:route-table/rtb-074547108e1e5e861","id":"rtb-074547108e1e5e861","owner_id":"143100457386","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0433499d9fda25035","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"tpcloudv2-rtb-public"},"tags_all":{"Name":"tpcloudv2-rtb-public"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_route_table_association.private_assoc[0]","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"private_assoc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":"","id":"rtbassoc-0e0997f636bbf1e2d","route_table_id":"rtb-0814ac2af68791e6e","subnet_id":"subnet-006ed3de19f0f6ee8","timeouts":null},"after":{"gateway_id":"","id":"rtbassoc-0e0997f636bbf1e2d","route_table_id":"rtb-0814ac2af68791e6e","subnet_id":"subnet-006ed3de19f0f6ee8","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_route_table_association.private_assoc[1]","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"private_assoc","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":"","id":"rtbassoc-0b5c04402fc19ff75","route_table_id":"rtb-0814ac2af68791e6e","subnet_id":"subnet-0810ab3ca52b5beeb","timeouts":null},"after":{"gateway_id":"","id":"rtbassoc-0b5c04402fc19ff75","route_table_id":"rtb-0814ac2af68791e6e","subnet_id":"subnet-0810ab3ca52b5beeb","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_route_table_association.public_assoc[0]","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"public_assoc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":"","id":"rtbassoc-09e7f77711db4cb4c","route_table_id":"rtb-074547108e1e5e861","subnet_id":"subnet-09b6a3aa7461803fb","timeouts":null},"after":{"gateway_id":"","id":"rtbassoc-09e7f77711db4cb4c","route_table_id":"rtb-074547108e1e5e861","subnet_id":"subnet-09b6a3aa7461803fb","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_route_table_association.public_assoc[1]","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"public_assoc","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":"","id":"rtbassoc-02c6a676b14fb007e","route_table_id":"rtb-074547108e1e5e861","subnet_id":"subnet-04d126fb812d10404","timeouts":null},"after":{"gateway_id":"","id":"rtbassoc-02c6a676b14fb007e","route_table_id":"rtb-074547108e1e5e861","subnet_id":"subnet-04d126fb812d10404","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_subnet.private[0]","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-006ed3de19f0f6ee8","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-006ed3de19f0f6ee8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-private-0"},"tags_all":{"Name":"tpcloudv2-private-0"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-006ed3de19f0f6ee8","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-006ed3de19f0f6ee8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-private-0"},"tags_all":{"Name":"tpcloudv2-private-0"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_subnet.private[1]","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-0810ab3ca52b5beeb","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0810ab3ca52b5beeb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-private-1"},"tags_all":{"Name":"tpcloudv2-private-1"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-0810ab3ca52b5beeb","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0810ab3ca52b5beeb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-private-1"},"tags_all":{"Name":"tpcloudv2-private-1"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_subnet.public[0]","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-09b6a3aa7461803fb","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.0.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-09b6a3aa7461803fb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-public-0"},"tags_all":{"Name":"tpcloudv2-public-0"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-09b6a3aa7461803fb","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.0.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-09b6a3aa7461803fb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-public-0"},"tags_all":{"Name":"tpcloudv2-public-0"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_subnet.public[1]","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-04d126fb812d10404","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-04d126fb812d10404","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-public-1"},"tags_all":{"Name":"tpcloudv2-public-1"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-04d126fb812d10404","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-04d126fb812d10404","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-public-1"},"tags_all":{"Name":"tpcloudv2-public-1"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_vpc.this","module_address":"module.vpc","mode":"managed","type":"aws_vpc","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:143100457386:vpc/vpc-0d3e0a0fe7ee12344","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-07c127670cbd2832c","default_route_table_id":"rtb-0a0f1331fa65c7ff1","default_security_group_id":"sg-098df810a70b0b044","dhcp_options_id":"dopt-0271b319177685ac2","enable_dns_hostnames":false,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0d3e0a0fe7ee12344","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0a0f1331fa65c7ff1","owner_id":"143100457386","tags":{"Name":"tpcloudv2-vpc"},"tags_all":{"Name":"tpcloudv2-vpc"}},"after":{"arn":"arn:aws:ec2:us-east-1:143100457386:vpc/vpc-0d3e0a0fe7ee12344","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-07c127670cbd2832c","default_route_table_id":"rtb-0a0f1331fa65c7ff1","default_security_group_id":"sg-098df810a70b0b044","dhcp_options_id":"dopt-0271b319177685ac2","enable_dns_hostnames":false,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0d3e0a0fe7ee12344","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0a0f1331fa65c7ff1","owner_id":"143100457386","tags":{"Name":"tpcloudv2-vpc"},"tags_all":{"Name":"tpcloudv2-vpc"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.waf.aws_wafv2_web_acl.this","module_address":"module.waf","mode":"managed","type":"aws_wafv2_web_acl","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"application_integration_url":"","arn":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a","association_config":[],"capacity":700,"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"description":"WAFv2 Web ACL for tpcloudv2","id":"1e47f6ac-86ee-4489-be79-23d55879b53a","lock_token":"04edc641-51a4-447f-9a25-3f07b08cf533","name":"tpcloudv2-waf","name_prefix":"","rule":[{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedCommonRules","override_action":[{"count":[],"none":[{}]}],"priority":1,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesCommonRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tpcloudv2-managed-rules","sampled_requests_enabled":true}]}],"rule_json":null,"scope":"REGIONAL","tags":{},"tags_all":{},"token_domains":[],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tpcloudv2-waf","sampled_requests_enabled":true}]},"after":{"application_integration_url":"","arn":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a","association_config":[],"capacity":700,"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"description":"WAFv2 Web ACL for tpcloudv2","id":"1e47f6ac-86ee-4489-be79-23d55879b53a","lock_token":"04edc641-51a4-447f-9a25-3f07b08cf533","name":"tpcloudv2-waf","name_prefix":"","rule":[{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedCommonRules","override_action":[{"count":[],"none":[{}]}],"priority":1,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesCommonRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tpcloudv2-managed-rules","sampled_requests_enabled":true}]}],"rule_json":null,"scope":"REGIONAL","tags":{},"tags_all":{},"token_domains":[],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tpcloudv2-waf","sampled_requests_enabled":true}]},"after_unknown":{},"before_sensitive":{"association_config":[],"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"rule":[{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]}],"tags":{},"tags_all":{},"token_domains":[],"visibility_config":[{}]},"after_sensitive":{"association_config":[],"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"rule":[{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]}],"tags":{},"tags_all":{},"token_domains":[],"visibility_config":[{}]}}},{"address":"module.waf.aws_wafv2_web_acl_association.alb_assoc","module_address":"module.waf","mode":"managed","type":"aws_wafv2_web_acl_association","name":"alb_assoc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a,arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","resource_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","timeouts":null,"web_acl_arn":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a"},"after":{"id":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a,arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","resource_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","timeouts":null,"web_acl_arn":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}}],"output_changes":{"alb_dns_name":{"actions":["no-op"],"before":"tpcloudv2-alb-476460880.us-east-1.elb.amazonaws.com","after":"tpcloudv2-alb-476460880.us-east-1.elb.amazonaws.com","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"db_endpoint":{"actions":["no-op"],"before":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com","after":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"db_password":{"actions":["no-op"],"before":"m7kKGxx1TJN0y50t","after":"m7kKGxx1TJN0y50t","after_unknown":false,"before_sensitive":true,"after_sensitive":true},"db_sg_id":{"actions":["no-op"],"before":"sg-0b247b4791656c70a","after":"sg-0b247b4791656c70a","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"internet_gateway_id":{"actions":["no-op"],"before":"igw-0433499d9fda25035","after":"igw-0433499d9fda25035","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"nat_gateway_id":{"actions":["no-op"],"before":"nat-0344128bc2a1da0dd","after":"nat-0344128bc2a1da0dd","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"private_subnet_ids":{"actions":["no-op"],"before":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"after":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"after_unknown":false,"before_sensitive":false,"after_sensitive":false},"public_subnet_ids":{"actions":["no-op"],"before":["subnet-09b6a3aa7461803fb","subnet-04d126fb812d10404"],"after":["subnet-09b6a3aa7461803fb","subnet-04d126fb812d10404"],"after_unknown":false,"before_sensitive":false,"after_sensitive":false},"route_table_private_id":{"actions":["no-op"],"before":"rtb-0814ac2af68791e6e","after":"rtb-0814ac2af68791e6e","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"route_table_public_id":{"actions":["no-op"],"before":"rtb-074547108e1e5e861","after":"rtb-074547108e1e5e861","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"s3_bucket_arn":{"actions":["no-op"],"before":"arn:aws:s3:::tpcloudv2-5c651390","after":"arn:aws:s3:::tpcloudv2-5c651390","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"s3_bucket_id":{"actions":["no-op"],"before":"tpcloudv2-5c651390","after":"tpcloudv2-5c651390","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"vpc_id":{"actions":["no-op"],"before":"vpc-0d3e0a0fe7ee12344","after":"vpc-0d3e0a0fe7ee12344","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"web_sg_id":{"actions":["no-op"],"before":"sg-09652d4936cec9b94","after":"sg-09652d4936cec9b94","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.13.4","values":{"outputs":{"alb_dns_name":{"sensitive":false,"value":"tpcloudv2-alb-476460880.us-east-1.elb.amazonaws.com","type":"string"},"db_endpoint":{"sensitive":false,"value":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com","type":"string"},"db_password":{"sensitive":true,"value":"m7kKGxx1TJN0y50t","type":"string"},"db_sg_id":{"sensitive":false,"value":"sg-0b247b4791656c70a","type":"string"},"internet_gateway_id":{"sensitive":false,"value":"igw-0433499d9fda25035","type":"string"},"nat_gateway_id":{"sensitive":false,"value":"nat-0344128bc2a1da0dd","type":"string"},"private_subnet_ids":{"sensitive":false,"value":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"type":["tuple",["string","string"]]},"public_subnet_ids":{"sensitive":false,"value":["subnet-09b6a3aa7461803fb","subnet-04d126fb812d10404"],"type":["tuple",["string","string"]]},"route_table_private_id":{"sensitive":false,"value":"rtb-0814ac2af68791e6e","type":"string"},"route_table_public_id":{"sensitive":false,"value":"rtb-074547108e1e5e861","type":"string"},"s3_bucket_arn":{"sensitive":false,"value":"arn:aws:s3:::tpcloudv2-5c651390","type":"string"},"s3_bucket_id":{"sensitive":false,"value":"tpcloudv2-5c651390","type":"string"},"vpc_id":{"sensitive":false,"value":"vpc-0d3e0a0fe7ee12344","type":"string"},"web_sg_id":{"sensitive":false,"value":"sg-09652d4936cec9b94","type":"string"}},"root_module":{"child_modules":[{"resources":[{"address":"module.alb.aws_lb.app_alb","mode":"managed","type":"aws_lb","name":"app_alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","arn_suffix":"app/tpcloudv2-alb/42c1aa1d705c4a34","client_keep_alive":3600,"connection_logs":[{"bucket":"","enabled":false,"prefix":""}],"customer_owned_ipv4_pool":"","desync_mitigation_mode":"defensive","dns_name":"tpcloudv2-alb-476460880.us-east-1.elb.amazonaws.com","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"enforce_security_group_inbound_rules_on_private_link_traffic":"","id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"tpcloudv2-alb","name_prefix":"","preserve_host_header":false,"security_groups":["sg-09652d4936cec9b94"],"subnet_mapping":[{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-04d126fb812d10404"},{"allocation_id":"","ipv6_address":"","outpost_id":"","private_ipv4_address":"","subnet_id":"subnet-09b6a3aa7461803fb"}],"subnets":["subnet-04d126fb812d10404","subnet-09b6a3aa7461803fb"],"tags":{"Name":"tpcloudv2-alb"},"tags_all":{"Name":"tpcloudv2-alb"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344","xff_header_processing_mode":"append","zone_id":"Z35SXDOTRQ7X7K"},"sensitive_values":{"access_logs":[{}],"connection_logs":[{}],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[{},{}],"subnets":[false,false],"tags":{},"tags_all":{}},"depends_on":["module.security.aws_security_group.web_sg","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.alb.aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:listener/app/tpcloudv2-alb/42c1aa1d705c4a34/c132e422fcfdcc94","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:listener/app/tpcloudv2-alb/42c1aa1d705c4a34/c132e422fcfdcc94","load_balancer_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","mutual_authentication":[],"port":80,"protocol":"HTTP","routing_http_request_x_amzn_mtls_clientcert_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":null,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":null,"routing_http_request_x_amzn_tls_cipher_suite_header_name":null,"routing_http_request_x_amzn_tls_version_header_name":null,"routing_http_response_access_control_allow_credentials_header_value":"","routing_http_response_access_control_allow_headers_header_value":"","routing_http_response_access_control_allow_methods_header_value":"","routing_http_response_access_control_allow_origin_header_value":"","routing_http_response_access_control_expose_headers_header_value":"","routing_http_response_access_control_max_age_header_value":"","routing_http_response_content_security_policy_header_value":"","routing_http_response_server_enabled":true,"routing_http_response_strict_transport_security_header_value":"","routing_http_response_x_content_type_options_header_value":"","routing_http_response_x_frame_options_header_value":"","ssl_policy":"","tags":{},"tags_all":{},"tcp_idle_timeout_seconds":null,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags":{},"tags_all":{}},"depends_on":["module.alb.aws_lb.app_alb","module.alb.aws_lb_target_group.app_tg","module.security.aws_security_group.web_sg","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.alb.aws_lb_target_group.app_tg","mode":"managed","type":"aws_lb_target_group","name":"app_tg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","arn_suffix":"targetgroup/tpcloudv2-tg/24468659629fa0d7","connection_termination":null,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":2,"interval":30,"matcher":"200-399","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","ip_address_type":"ipv4","lambda_multi_value_headers_enabled":false,"load_balancer_arns":["arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34"],"load_balancing_algorithm_type":"round_robin","load_balancing_anomaly_mitigation":"off","load_balancing_cross_zone_enabled":"use_load_balancer_configuration","name":"tpcloudv2-tg","name_prefix":"","port":80,"preserve_client_ip":null,"protocol":"HTTP","protocol_version":"HTTP1","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"cookie_name":"","enabled":false,"type":"lb_cookie"}],"tags":{},"tags_all":{},"target_failover":[{"on_deregistration":null,"on_unhealthy":null}],"target_group_health":[{"dns_failover":[{"minimum_healthy_targets_count":"1","minimum_healthy_targets_percentage":"off"}],"unhealthy_state_routing":[{"minimum_healthy_targets_count":1,"minimum_healthy_targets_percentage":"off"}]}],"target_health_state":[{"enable_unhealthy_connection_termination":null,"unhealthy_draining_interval":null}],"target_type":"instance","vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"health_check":[{}],"load_balancer_arns":[false],"stickiness":[{}],"tags":{},"tags_all":{},"target_failover":[{}],"target_group_health":[{"dns_failover":[{}],"unhealthy_state_routing":[{}]}],"target_health_state":[{}]},"depends_on":["module.vpc.aws_vpc.this"]}],"address":"module.alb"},{"resources":[{"address":"module.asg.data.aws_ami.al2","mode":"data","type":"aws_ami","name":"al2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architecture":"x86_64","arn":"arn:aws:ec2:us-east-1::image/ami-0601422bf6afa8ac3","block_device_mappings":[{"device_name":"/dev/xvda","ebs":{"delete_on_termination":"true","encrypted":"false","iops":"0","snapshot_id":"snap-009bb0813babda1d2","throughput":"0","volume_initialization_rate":"0","volume_size":"8","volume_type":"gp2"},"no_device":"","virtual_name":""}],"boot_mode":"","creation_date":"2025-10-24T17:55:29.000Z","deprecation_time":"2026-01-22T00:00:00.000Z","description":"Amazon Linux 2 AMI 2.0.20251027.1 x86_64 HVM gp2","ena_support":true,"executable_users":null,"filter":[{"name":"name","values":["amzn2-ami-hvm-*-x86_64-gp2"]}],"hypervisor":"xen","id":"ami-0601422bf6afa8ac3","image_id":"ami-0601422bf6afa8ac3","image_location":"amazon/amzn2-ami-hvm-2.0.20251027.1-x86_64-gp2","image_owner_alias":"amazon","image_type":"machine","imds_support":"","include_deprecated":false,"kernel_id":"","last_launched_time":"","most_recent":true,"name":"amzn2-ami-hvm-2.0.20251027.1-x86_64-gp2","name_regex":null,"owner_id":"137112412989","owners":["137112412989"],"platform":"","platform_details":"Linux/UNIX","product_codes":[],"public":true,"ramdisk_id":"","root_device_name":"/dev/xvda","root_device_type":"ebs","root_snapshot_id":"snap-009bb0813babda1d2","sriov_net_support":"simple","state":"available","state_reason":{"code":"UNSET","message":"UNSET"},"tags":{},"timeouts":null,"tpm_support":"","uefi_data":null,"usage_operation":"RunInstances","virtualization_type":"hvm"},"sensitive_values":{"block_device_mappings":[{"ebs":{}}],"filter":[{"values":[false]}],"owners":[false],"product_codes":[],"state_reason":{},"tags":{}}},{"address":"module.asg.aws_autoscaling_group.app_asg","mode":"managed","type":"aws_autoscaling_group","name":"app_asg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:autoscaling:us-east-1:143100457386:autoScalingGroup:d587cc82-b743-46bd-83b6-c650b8ae0666:autoScalingGroupName/tpcloudv2-asg","availability_zone_distribution":[{"capacity_distribution_strategy":"balanced-best-effort"}],"availability_zones":["us-east-1a","us-east-1b"],"capacity_rebalance":false,"capacity_reservation_specification":[{"capacity_reservation_preference":"default","capacity_reservation_target":[]}],"context":"","default_cooldown":300,"default_instance_warmup":0,"desired_capacity":1,"desired_capacity_type":"","enabled_metrics":[],"force_delete":false,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"ELB","id":"tpcloudv2-asg","ignore_failed_scaling_activities":false,"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_configuration":"","launch_template":[{"id":"lt-032a4af80bf14053e","name":"tpcloudv2-lt-20251105095059396300000004","version":"$Latest"}],"load_balancers":[],"max_instance_lifetime":0,"max_size":2,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":1,"mixed_instances_policy":[],"name":"tpcloudv2-asg","name_prefix":"","placement_group":"","predicted_capacity":0,"protect_from_scale_in":false,"service_linked_role_arn":"arn:aws:iam::143100457386:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling","suspended_processes":[],"tag":[{"key":"Name","propagate_at_launch":true,"value":"tpcloudv2-asg"}],"target_group_arns":["arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7"],"termination_policies":[],"timeouts":null,"traffic_source":[{"identifier":"arn:aws:elasticloadbalancing:us-east-1:143100457386:targetgroup/tpcloudv2-tg/24468659629fa0d7","type":"elbv2"}],"vpc_zone_identifier":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[],"warm_pool_size":0},"sensitive_values":{"availability_zone_distribution":[{}],"availability_zones":[false,false],"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"enabled_metrics":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"suspended_processes":[],"tag":[{}],"target_group_arns":[false],"termination_policies":[],"traffic_source":[{}],"vpc_zone_identifier":[false,false],"warm_pool":[]},"depends_on":["module.alb.aws_lb_target_group.app_tg","module.asg.aws_launch_template.app","module.asg.data.aws_ami.al2","module.iam.aws_iam_instance_profile.ec2_profile","module.iam.aws_iam_role.ec2_role","module.security.aws_security_group.web_sg","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.asg.aws_launch_template.app","mode":"managed","type":"aws_launch_template","name":"app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:launch-template/lt-032a4af80bf14053e","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{"arn":"","name":"tpcloudv2-ec2-profile"}],"id":"lt-032a4af80bf14053e","image_id":"ami-0601422bf6afa8ac3","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"t3.micro","kernel_id":"","key_name":"","latest_version":6,"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"name":"tpcloudv2-lt-20251105095059396300000004","name_prefix":"tpcloudv2-lt-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":[],"tag_specifications":[{"resource_type":"instance","tags":{"Name":"tpcloudv2-instance"}}],"tags":{},"tags_all":{},"update_default_version":null,"user_data":"IyEvYmluL2Jhc2gKIyB1cGRhdGUgcGFja2FnZXMKaWYgY29tbWFuZCAtdiBhcHQtZ2V0ID4vZGV2L251bGwgMj4mMTsgdGhlbiBhcHQtZ2V0IHVwZGF0ZSAteSB8fCB0cnVlOyBlbHNlIHl1bSB1cGRhdGUgLXkgfHwgdHJ1ZTsgZmkKIyBUcnkgdG8gaW5zdGFsbCBhbmQgc3RhcnQgU1NNIGFnZW50IHNvIHdlIGNhbiBkZWJ1ZyBpbnN0YW5jZXMgdmlhIFNTTSAoYmVzdC1lZmZvcnQpCmlmIGNvbW1hbmQgLXYgeXVtID4vZGV2L251bGwgMj4mMTsgdGhlbgogIHl1bSBpbnN0YWxsIC15IGFtYXpvbi1zc20tYWdlbnQgfHwgdHJ1ZQogIHN5c3RlbWN0bCBlbmFibGUgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCiAgc3lzdGVtY3RsIHN0YXJ0IGFtYXpvbi1zc20tYWdlbnQgfHwgdHJ1ZQplbGlmIGNvbW1hbmQgLXYgYXB0LWdldCA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAjIHNvbWUgZGlzdHJvcyBwcm92aWRlIGFtYXpvbi1zc20tYWdlbnQgdmlhIHBhY2thZ2UsIG90aGVycyByZXF1aXJlIHRoZSBkZWIgZnJvbSBTMzsKICBhcHQtZ2V0IGluc3RhbGwgLXkgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCiAgc3lzdGVtY3RsIGVuYWJsZSBhbWF6b24tc3NtLWFnZW50IHx8IHRydWUKICBzeXN0ZW1jdGwgc3RhcnQgYW1hem9uLXNzbS1hZ2VudCB8fCB0cnVlCmZpCiMgSW5zdGFsbCBhbmQgc3RhcnQgbmdpbnggKGJlc3QtZWZmb3J0KQppZiBjb21tYW5kIC12IGFwdC1nZXQgPi9kZXYvbnVsbCAyPiYxOyB0aGVuCiAgYXB0LWdldCBpbnN0YWxsIC15IG5naW54IHx8IHRydWUKICBzeXN0ZW1jdGwgZW5hYmxlIG5naW54IHx8IHRydWUKICBzeXN0ZW1jdGwgc3RhcnQgbmdpbnggfHwgdHJ1ZQplbHNlCiAgeXVtIGluc3RhbGwgLXkgbmdpbnggfHwgdHJ1ZQogIHN5c3RlbWN0bCBlbmFibGUgbmdpbnggfHwgdHJ1ZQogIHN5c3RlbWN0bCBzdGFydCBuZ2lueCB8fCB0cnVlCmZpCiMgRW5zdXJlIHdlYiByb290IGV4aXN0cwpta2RpciAtcCAvdmFyL3d3dy9odG1sIHx8IHRydWUKIyBHZW5lcmF0ZSBhbiBpbmRleCBwYWdlIHRoYXQgc2hvd3MgaG9zdG5hbWUgYW5kIHByaXZhdGUgSVAgc28gd2UgY2FuIGRlbW9uc3RyYXRlIGxvYWQtYmFsYW5jaW5nCklQPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9tZXRhLWRhdGEvbG9jYWwtaXB2NCB8fCBob3N0bmFtZSAtSSB8IGF3ayAne3ByaW50ICQxfScpCkhPU1ROQU1FPSQoaG9zdG5hbWUpCmNhdCA+L3Zhci93d3cvaHRtbC9pbmRleC5odG1sIDw8RU9GCkhlbGxvIGZyb20gaW5zdGFuY2UKSG9zdG5hbWU6ICRIT1NUTkFNRQpJUDogJElQCkVPRgojIElmIG5naW54IGlzbid0IHJ1bm5pbmcsIHN0YXJ0IGEgcHl0aG9uMyBodHRwLnNlcnZlciBmYWxsYmFjayB0byBzZXJ2ZSB0aGUgcGFnZQppZiAhIHN5c3RlbWN0bCBpcy1hY3RpdmUgLS1xdWlldCBuZ2lueCAyPi9kZXYvbnVsbDsgdGhlbgogIGlmIGNvbW1hbmQgLXYgcHl0aG9uMyA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAgIG5vaHVwIHB5dGhvbjMgLW0gaHR0cC5zZXJ2ZXIgODAgLWQgL3Zhci93d3cvaHRtbCA+L3Zhci9sb2cvcHl0aG9uLWh0dHAubG9nIDI+JjEgJgogIGZpCmZpCg==","vpc_security_group_ids":["sg-09652d4936cec9b94"]},"sensitive_values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[{}],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"depends_on":["module.asg.data.aws_ami.al2","module.iam.aws_iam_instance_profile.ec2_profile","module.iam.aws_iam_role.ec2_role","module.security.aws_security_group.web_sg","module.vpc.aws_vpc.this"]}],"address":"module.asg"},{"resources":[{"address":"module.backup.aws_backup_plan.daily","mode":"managed","type":"aws_backup_plan","name":"daily","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"advanced_backup_setting":[],"arn":"arn:aws:backup:us-east-1:143100457386:backup-plan:c15605c5-48c4-4126-a5d2-8821fe07852c","id":"c15605c5-48c4-4126-a5d2-8821fe07852c","name":"tpcloudv2-daily-backup","rule":[{"completion_window":180,"copy_action":[],"enable_continuous_backup":false,"lifecycle":[{"cold_storage_after":0,"delete_after":90,"opt_in_to_archive_for_supported_resources":false}],"recovery_point_tags":{},"rule_name":"daily-rule","schedule":"cron(0 5 ? * * *)","schedule_expression_timezone":"Etc/UTC","start_window":60,"target_vault_name":"tpcloudv2-backup-vault"}],"tags":{},"tags_all":{},"version":"MmFhMTU4YmYtZGU0NS00NGRiLWIyNTYtNWVjNTQyNDEzOWFi"},"sensitive_values":{"advanced_backup_setting":[],"rule":[{"copy_action":[],"lifecycle":[{}],"recovery_point_tags":{}}],"tags":{},"tags_all":{}},"depends_on":["module.backup.aws_backup_vault.this"]},{"address":"module.backup.aws_backup_selection.selection","mode":"managed","type":"aws_backup_selection","name":"selection","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"condition":[{"string_equals":[],"string_like":[],"string_not_equals":[],"string_not_like":[]}],"iam_role_arn":"arn:aws:iam::143100457386:role/tpcloudv2-backup-role","id":"00755b40-6ae0-4311-8b54-a3da3c3b6362","name":"tpcloudv2-selection","not_resources":[],"plan_id":"c15605c5-48c4-4126-a5d2-8821fe07852c","resources":["arn:aws:rds:us-east-1:143100457386:db:tpcloudv2-mysql","arn:aws:s3:::tpcloudv2-5c651390"],"selection_tag":[]},"sensitive_values":{"condition":[{"string_equals":[],"string_like":[],"string_not_equals":[],"string_not_like":[]}],"not_resources":[],"resources":[false,false],"selection_tag":[]},"depends_on":["module.backup.aws_backup_plan.daily","module.backup.aws_backup_vault.this","module.backup.aws_iam_role.backup_role","module.db.aws_db_instance.mysql","module.db.aws_db_subnet_group.this","module.db.random_password.db","module.s3.aws_s3_bucket.app_bucket","module.s3.random_id.bucket_suffix","module.security.aws_security_group.db_sg","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.backup.aws_backup_vault.this","mode":"managed","type":"aws_backup_vault","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:backup:us-east-1:143100457386:backup-vault:tpcloudv2-backup-vault","force_destroy":false,"id":"tpcloudv2-backup-vault","kms_key_arn":"arn:aws:kms:us-east-1:143100457386:key/7d9aaeae-51da-491b-a579-97e3b9248297","name":"tpcloudv2-backup-vault","recovery_points":0,"tags":{},"tags_all":{},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.backup.aws_iam_role.backup_role","mode":"managed","type":"aws_iam_role","name":"backup_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::143100457386:role/tpcloudv2-backup-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"backup.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-05T10:54:46Z","description":"","force_detach_policies":false,"id":"tpcloudv2-backup-role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup"],"max_session_duration":3600,"name":"tpcloudv2-backup-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROASCULTWGVLYTRAOK3P"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false],"tags":{},"tags_all":{}}},{"address":"module.backup.aws_iam_role_policy_attachment.backup_attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"backup_attach","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"tpcloudv2-backup-role-20251105105448381400000001","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup","role":"tpcloudv2-backup-role"},"sensitive_values":{},"depends_on":["module.backup.aws_iam_role.backup_role"]}],"address":"module.backup"},{"resources":[{"address":"module.db.aws_db_instance.mysql","mode":"managed","type":"aws_db_instance","name":"mysql","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"address":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com","allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"arn":"arn:aws:rds:us-east-1:143100457386:db:tpcloudv2-mysql","auto_minor_version_upgrade":true,"availability_zone":"us-east-1b","backup_retention_period":0,"backup_target":"region","backup_window":"06:16-06:46","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"database_insights_mode":"standard","db_name":"tpcloudv2db","db_subnet_group_name":"tpcloudv2-db-subnet-group","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":[],"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":[],"endpoint":"tpcloudv2-mysql.ckdae66oi4ka.us-east-1.rds.amazonaws.com:3306","engine":"mysql","engine_lifecycle_support":"open-source-rds-extended-support","engine_version":"8.0","engine_version_actual":"8.0.42","final_snapshot_identifier":null,"hosted_zone_id":"Z2R2ITUGPM61AM","iam_database_authentication_enabled":false,"id":"db-J6G6WKDSFKSESLOCPAHE43CBIE","identifier":"tpcloudv2-mysql","identifier_prefix":"","instance_class":"db.t3.micro","iops":0,"kms_key_id":"arn:aws:kms:us-east-1:143100457386:key/f7655d19-a860-452e-9f07-06f428e42c8a","latest_restorable_time":"","license_model":"general-public-license","listener_endpoint":[],"maintenance_window":"mon:03:09-mon:03:39","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":0,"monitoring_interval":0,"monitoring_role_arn":"","multi_az":true,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:mysql-8-0","parameter_group_name":"default.mysql8.0","password":"m7kKGxx1TJN0y50t","password_wo":null,"password_wo_version":null,"performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"publicly_accessible":false,"replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-J6G6WKDSFKSESLOCPAHE43CBIE","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":true,"storage_throughput":0,"storage_type":"gp2","tags":{"Name":"tpcloudv2-mysql"},"tags_all":{"Name":"tpcloudv2-mysql"},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"admin","vpc_security_group_ids":["sg-0b247b4791656c70a"]},"sensitive_values":{"blue_green_update":[],"domain_dns_ips":[],"enabled_cloudwatch_logs_exports":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"depends_on":["module.db.aws_db_subnet_group.this","module.db.random_password.db","module.security.aws_security_group.db_sg","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.db.aws_db_subnet_group.this","mode":"managed","type":"aws_db_subnet_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:rds:us-east-1:143100457386:subgrp:tpcloudv2-db-subnet-group","description":"Managed by Terraform","id":"tpcloudv2-db-subnet-group","name":"tpcloudv2-db-subnet-group","name_prefix":"","subnet_ids":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"supported_network_types":["IPV4"],"tags":{"Name":"tpcloudv2-db-subnet-group"},"tags_all":{"Name":"tpcloudv2-db-subnet-group"},"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"subnet_ids":[false,false],"supported_network_types":[false],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.db.random_password.db","mode":"managed","type":"random_password","name":"db","provider_name":"registry.terraform.io/hashicorp/random","schema_version":3,"values":{"bcrypt_hash":"$2a$10$E574BUigqD404iihHqgXZeREGebJyjEJIu7544EkgREoTcsnDiB96","id":"none","keepers":null,"length":16,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"result":"m7kKGxx1TJN0y50t","special":false,"upper":true},"sensitive_values":{"bcrypt_hash":true,"result":true}}],"address":"module.db"},{"resources":[{"address":"module.iam.aws_iam_instance_profile.ec2_profile","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_profile","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::143100457386:instance-profile/tpcloudv2-ec2-profile","create_date":"2025-11-05T10:49:44Z","id":"tpcloudv2-ec2-profile","name":"tpcloudv2-ec2-profile","name_prefix":"","path":"/","role":"tpcloudv2-ec2-role","tags":{},"tags_all":{},"unique_id":"AIPASCULTWGVP3ZCLG4J6"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.iam.aws_iam_role.ec2_role"]},{"address":"module.iam.aws_iam_role.ec2_role","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::143100457386:role/tpcloudv2-ec2-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-05T10:49:43Z","description":"","force_detach_policies":false,"id":"tpcloudv2-ec2-role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess","arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"],"max_session_duration":3600,"name":"tpcloudv2-ec2-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROASCULTWGVOFMX7TOBU"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.s3_read","mode":"managed","type":"aws_iam_role_policy_attachment","name":"s3_read","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"tpcloudv2-ec2-role-20251105104944341100000002","policy_arn":"arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess","role":"tpcloudv2-ec2-role"},"sensitive_values":{},"depends_on":["module.iam.aws_iam_role.ec2_role"]},{"address":"module.iam.aws_iam_role_policy_attachment.ssm","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ssm","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"tpcloudv2-ec2-role-20251105104944174900000001","policy_arn":"arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore","role":"tpcloudv2-ec2-role"},"sensitive_values":{},"depends_on":["module.iam.aws_iam_role.ec2_role"]}],"address":"module.iam"},{"resources":[{"address":"module.monitoring.aws_cloudwatch_metric_alarm.asg_below_min","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"asg_below_min","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":[],"alarm_description":"Alarm if Auto Scaling Group has fewer than 1 InService instance","alarm_name":"tpcloudv2-asg-below-min","arn":"arn:aws:cloudwatch:us-east-1:143100457386:alarm:tpcloudv2-asg-below-min","comparison_operator":"LessThanThreshold","datapoints_to_alarm":0,"dimensions":{"AutoScalingGroupName":"tpcloudv2-asg"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"tpcloudv2-asg-below-min","insufficient_data_actions":[],"metric_name":"GroupInServiceInstances","metric_query":[],"namespace":"AWS/AutoScaling","ok_actions":[],"period":60,"statistic":"Minimum","tags":{},"tags_all":{},"threshold":1,"threshold_metric_id":"","treat_missing_data":"missing","unit":""},"sensitive_values":{"alarm_actions":[],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}},"depends_on":["module.alb.aws_lb_target_group.app_tg","module.asg.aws_autoscaling_group.app_asg","module.asg.aws_launch_template.app","module.asg.data.aws_ami.al2","module.iam.aws_iam_instance_profile.ec2_profile","module.iam.aws_iam_role.ec2_role","module.security.aws_security_group.web_sg","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.monitoring.aws_cloudwatch_metric_alarm.rds_cpu_high","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"rds_cpu_high","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":[],"alarm_description":"Alarm if RDS CPU \u003e 70% for 5 minutes","alarm_name":"tpcloudv2-rds-cpu-high","arn":"arn:aws:cloudwatch:us-east-1:143100457386:alarm:tpcloudv2-rds-cpu-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"DBInstanceIdentifier":"db-J6G6WKDSFKSESLOCPAHE43CBIE"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":5,"extended_statistic":"","id":"tpcloudv2-rds-cpu-high","insufficient_data_actions":[],"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/RDS","ok_actions":[],"period":60,"statistic":"Average","tags":{},"tags_all":{},"threshold":70,"threshold_metric_id":"","treat_missing_data":"missing","unit":""},"sensitive_values":{"alarm_actions":[],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}},"depends_on":["module.db.aws_db_instance.mysql","module.db.aws_db_subnet_group.this","module.db.random_password.db","module.security.aws_security_group.db_sg","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]}],"address":"module.monitoring"},{"resources":[{"address":"module.s3.aws_s3_bucket.app_bucket","mode":"managed","type":"aws_s3_bucket","name":"app_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::tpcloudv2-5c651390","bucket":"tpcloudv2-5c651390","bucket_domain_name":"tpcloudv2-5c651390.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"tpcloudv2-5c651390.s3.us-east-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"317523b7aae7a90a380cb06609ece5d31d9c0f5d5b5a328eaf48739e0f7d07c1","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"tpcloudv2-5c651390","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":365,"expired_object_delete_marker":false}],"id":"keep-current","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"Name":"tpcloudv2-5c651390"},"tags_all":{"Name":"tpcloudv2-5c651390"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_values":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]},"depends_on":["module.s3.random_id.bucket_suffix"]},{"address":"module.s3.aws_s3_bucket_lifecycle_configuration.app_bucket_lifecycle","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"app_bucket_lifecycle","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":365,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"keep-current","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]},"depends_on":["module.s3.aws_s3_bucket.app_bucket","module.s3.random_id.bucket_suffix"]},{"address":"module.s3.aws_s3_bucket_server_side_encryption_configuration.app_bucket_sse","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"app_bucket_sse","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]},"depends_on":["module.s3.aws_s3_bucket.app_bucket","module.s3.random_id.bucket_suffix"]},{"address":"module.s3.aws_s3_bucket_versioning.app_bucket_versioning","mode":"managed","type":"aws_s3_bucket_versioning","name":"app_bucket_versioning","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"tpcloudv2-5c651390","expected_bucket_owner":"","id":"tpcloudv2-5c651390","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]},"depends_on":["module.s3.aws_s3_bucket.app_bucket","module.s3.random_id.bucket_suffix"]},{"address":"module.s3.random_id.bucket_suffix","mode":"managed","type":"random_id","name":"bucket_suffix","provider_name":"registry.terraform.io/hashicorp/random","schema_version":0,"values":{"b64_std":"XGUTkA==","b64_url":"XGUTkA","byte_length":4,"dec":"1550128016","hex":"5c651390","id":"XGUTkA","keepers":null,"prefix":null},"sensitive_values":{}}],"address":"module.s3"},{"resources":[{"address":"module.security.aws_network_acl.private_nacl","mode":"managed","type":"aws_network_acl","name":"private_nacl","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:network-acl/acl-0b436c6d3e30f6d4d","egress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"id":"acl-0b436c6d3e30f6d4d","ingress":[{"action":"allow","cidr_block":"10.0.0.0/16","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"owner_id":"143100457386","subnet_ids":["subnet-006ed3de19f0f6ee8","subnet-0810ab3ca52b5beeb"],"tags":{"Name":"tpcloudv2-private-nacl"},"tags_all":{"Name":"tpcloudv2-private-nacl"},"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"egress":[{}],"ingress":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this"]},{"address":"module.security.aws_network_acl_association.private_nacl_assoc[0]","mode":"managed","type":"aws_network_acl_association","name":"private_nacl_assoc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"aclassoc-0e00f6f43fcdcf6ad","network_acl_id":"acl-0b436c6d3e30f6d4d","subnet_id":"subnet-006ed3de19f0f6ee8"},"sensitive_values":{},"depends_on":["module.security.aws_network_acl.private_nacl","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.security.aws_network_acl_association.private_nacl_assoc[1]","mode":"managed","type":"aws_network_acl_association","name":"private_nacl_assoc","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"aclassoc-09f4bc0bb1683c177","network_acl_id":"acl-0b436c6d3e30f6d4d","subnet_id":"subnet-0810ab3ca52b5beeb"},"sensitive_values":{},"depends_on":["module.security.aws_network_acl.private_nacl","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.security.aws_network_acl_rule.private_allow_all_inbound","mode":"managed","type":"aws_network_acl_rule","name":"private_allow_all_inbound","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_block":"10.0.0.0/16","egress":false,"from_port":null,"icmp_code":null,"icmp_type":null,"id":"nacl-3960600231","ipv6_cidr_block":"","network_acl_id":"acl-0b436c6d3e30f6d4d","protocol":"-1","rule_action":"allow","rule_number":100,"to_port":null},"sensitive_values":{},"depends_on":["module.security.aws_network_acl.private_nacl","module.vpc.aws_vpc.this"]},{"address":"module.security.aws_network_acl_rule.private_allow_all_outbound","mode":"managed","type":"aws_network_acl_rule","name":"private_allow_all_outbound","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_block":"0.0.0.0/0","egress":true,"from_port":null,"icmp_code":null,"icmp_type":null,"id":"nacl-1919484286","ipv6_cidr_block":"","network_acl_id":"acl-0b436c6d3e30f6d4d","protocol":"-1","rule_action":"allow","rule_number":100,"to_port":null},"sensitive_values":{},"depends_on":["module.security.aws_network_acl.private_nacl","module.vpc.aws_vpc.this"]},{"address":"module.security.aws_security_group.db_sg","mode":"managed","type":"aws_security_group","name":"db_sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:security-group/sg-0b247b4791656c70a","description":"db sg","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0b247b4791656c70a","ingress":[{"cidr_blocks":["10.0.0.0/16"],"description":"","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306}],"name":"tpcloudv2-db-sg","name_prefix":"","owner_id":"143100457386","revoke_rules_on_delete":false,"tags":{"Name":"tpcloudv2-db-sg"},"tags_all":{"Name":"tpcloudv2-db-sg"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this"]},{"address":"module.security.aws_security_group.web_sg","mode":"managed","type":"aws_security_group","name":"web_sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:security-group/sg-09652d4936cec9b94","description":"web sg","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-09652d4936cec9b94","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"tpcloudv2-web-sg","name_prefix":"","owner_id":"143100457386","revoke_rules_on_delete":false,"tags":{"Name":"tpcloudv2-web-sg"},"tags_all":{"Name":"tpcloudv2-web-sg"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this"]}],"address":"module.security"},{"resources":[{"address":"module.vpc.data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":["us-east-1-zg-1"],"id":"us-east-1","names":["us-east-1a","us-east-1b","us-east-1c","us-east-1d","us-east-1e","us-east-1f"],"state":null,"timeouts":null,"zone_ids":["use1-az1","use1-az2","use1-az4","use1-az6","use1-az3","use1-az5"]},"sensitive_values":{"group_names":[false],"names":[false,false,false,false,false,false],"zone_ids":[false,false,false,false,false,false]}},{"address":"module.vpc.aws_eip.nat_eip","mode":"managed","type":"aws_eip","name":"nat_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"allocation_id":"eipalloc-0f7fa54820d8fbe51","arn":"arn:aws:ec2:us-east-1:143100457386:elastic-ip/eipalloc-0f7fa54820d8fbe51","associate_with_private_ip":null,"association_id":"eipassoc-07e723385dc69e1d6","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0f7fa54820d8fbe51","instance":"","ipam_pool_id":null,"network_border_group":"us-east-1","network_interface":"eni-086ae2203aafcaf39","private_dns":"ip-10-0-0-129.ec2.internal","private_ip":"10.0.0.129","ptr_record":"","public_dns":"ec2-44-217-206-133.compute-1.amazonaws.com","public_ip":"44.217.206.133","public_ipv4_pool":"amazon","tags":{"Name":"tpcloudv2-nat-eip"},"tags_all":{"Name":"tpcloudv2-nat-eip"},"timeouts":null,"vpc":true},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_internet_gateway.igw","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:internet-gateway/igw-0433499d9fda25035","id":"igw-0433499d9fda25035","owner_id":"143100457386","tags":{"Name":"tpcloudv2-igw"},"tags_all":{"Name":"tpcloudv2-igw"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this"]},{"address":"module.vpc.aws_nat_gateway.nat","mode":"managed","type":"aws_nat_gateway","name":"nat","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-0f7fa54820d8fbe51","association_id":"eipassoc-07e723385dc69e1d6","connectivity_type":"public","id":"nat-0344128bc2a1da0dd","network_interface_id":"eni-086ae2203aafcaf39","private_ip":"10.0.0.129","public_ip":"44.217.206.133","secondary_allocation_ids":[],"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-09b6a3aa7461803fb","tags":{"Name":"tpcloudv2-natgw"},"tags_all":{"Name":"tpcloudv2-natgw"},"timeouts":null},"sensitive_values":{"secondary_allocation_ids":[],"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_eip.nat_eip","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_route.private_nat","mode":"managed","type":"aws_route","name":"private_nat","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","id":"r-rtb-0814ac2af68791e6e1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"nat-0344128bc2a1da0dd","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-0814ac2af68791e6e","state":"active","timeouts":null,"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"sensitive_values":{},"depends_on":["module.vpc.aws_eip.nat_eip","module.vpc.aws_nat_gateway.nat","module.vpc.aws_route_table.private","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_route.public_internet_access","mode":"managed","type":"aws_route","name":"public_internet_access","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0433499d9fda25035","id":"r-rtb-074547108e1e5e8611080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-074547108e1e5e861","state":"active","timeouts":null,"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"sensitive_values":{},"depends_on":["module.vpc.aws_internet_gateway.igw","module.vpc.aws_route_table.public","module.vpc.aws_vpc.this"]},{"address":"module.vpc.aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:route-table/rtb-0814ac2af68791e6e","id":"rtb-0814ac2af68791e6e","owner_id":"143100457386","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-0344128bc2a1da0dd","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"tpcloudv2-rtb-private"},"tags_all":{"Name":"tpcloudv2-rtb-private"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this"]},{"address":"module.vpc.aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:route-table/rtb-074547108e1e5e861","id":"rtb-074547108e1e5e861","owner_id":"143100457386","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0433499d9fda25035","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"tpcloudv2-rtb-public"},"tags_all":{"Name":"tpcloudv2-rtb-public"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this"]},{"address":"module.vpc.aws_route_table_association.private_assoc[0]","mode":"managed","type":"aws_route_table_association","name":"private_assoc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-0e0997f636bbf1e2d","route_table_id":"rtb-0814ac2af68791e6e","subnet_id":"subnet-006ed3de19f0f6ee8","timeouts":null},"sensitive_values":{},"depends_on":["module.vpc.aws_route_table.private","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_route_table_association.private_assoc[1]","mode":"managed","type":"aws_route_table_association","name":"private_assoc","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-0b5c04402fc19ff75","route_table_id":"rtb-0814ac2af68791e6e","subnet_id":"subnet-0810ab3ca52b5beeb","timeouts":null},"sensitive_values":{},"depends_on":["module.vpc.aws_route_table.private","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_route_table_association.public_assoc[0]","mode":"managed","type":"aws_route_table_association","name":"public_assoc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-09e7f77711db4cb4c","route_table_id":"rtb-074547108e1e5e861","subnet_id":"subnet-09b6a3aa7461803fb","timeouts":null},"sensitive_values":{},"depends_on":["module.vpc.aws_route_table.public","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_route_table_association.public_assoc[1]","mode":"managed","type":"aws_route_table_association","name":"public_assoc","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-02c6a676b14fb007e","route_table_id":"rtb-074547108e1e5e861","subnet_id":"subnet-04d126fb812d10404","timeouts":null},"sensitive_values":{},"depends_on":["module.vpc.aws_route_table.public","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_subnet.private[0]","mode":"managed","type":"aws_subnet","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-006ed3de19f0f6ee8","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-006ed3de19f0f6ee8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-private-0"},"tags_all":{"Name":"tpcloudv2-private-0"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_subnet.private[1]","mode":"managed","type":"aws_subnet","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-0810ab3ca52b5beeb","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0810ab3ca52b5beeb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-private-1"},"tags_all":{"Name":"tpcloudv2-private-1"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_subnet.public[0]","mode":"managed","type":"aws_subnet","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-09b6a3aa7461803fb","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.0.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-09b6a3aa7461803fb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-public-0"},"tags_all":{"Name":"tpcloudv2-public-0"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_subnet.public[1]","mode":"managed","type":"aws_subnet","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:subnet/subnet-04d126fb812d10404","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-04d126fb812d10404","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"143100457386","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"tpcloudv2-public-1"},"tags_all":{"Name":"tpcloudv2-public-1"},"timeouts":null,"vpc_id":"vpc-0d3e0a0fe7ee12344"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available"]},{"address":"module.vpc.aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:143100457386:vpc/vpc-0d3e0a0fe7ee12344","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-07c127670cbd2832c","default_route_table_id":"rtb-0a0f1331fa65c7ff1","default_security_group_id":"sg-098df810a70b0b044","dhcp_options_id":"dopt-0271b319177685ac2","enable_dns_hostnames":false,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0d3e0a0fe7ee12344","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0a0f1331fa65c7ff1","owner_id":"143100457386","tags":{"Name":"tpcloudv2-vpc"},"tags_all":{"Name":"tpcloudv2-vpc"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.vpc"},{"resources":[{"address":"module.waf.aws_wafv2_web_acl.this","mode":"managed","type":"aws_wafv2_web_acl","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_integration_url":"","arn":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a","association_config":[],"capacity":700,"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"description":"WAFv2 Web ACL for tpcloudv2","id":"1e47f6ac-86ee-4489-be79-23d55879b53a","lock_token":"04edc641-51a4-447f-9a25-3f07b08cf533","name":"tpcloudv2-waf","name_prefix":"","rule":[{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedCommonRules","override_action":[{"count":[],"none":[{}]}],"priority":1,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesCommonRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tpcloudv2-managed-rules","sampled_requests_enabled":true}]}],"rule_json":null,"scope":"REGIONAL","tags":{},"tags_all":{},"token_domains":[],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tpcloudv2-waf","sampled_requests_enabled":true}]},"sensitive_values":{"association_config":[],"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"rule":[{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]}],"tags":{},"tags_all":{},"token_domains":[],"visibility_config":[{}]}},{"address":"module.waf.aws_wafv2_web_acl_association.alb_assoc","mode":"managed","type":"aws_wafv2_web_acl_association","name":"alb_assoc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a,arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","resource_arn":"arn:aws:elasticloadbalancing:us-east-1:143100457386:loadbalancer/app/tpcloudv2-alb/42c1aa1d705c4a34","timeouts":null,"web_acl_arn":"arn:aws:wafv2:us-east-1:143100457386:regional/webacl/tpcloudv2-waf/1e47f6ac-86ee-4489-be79-23d55879b53a"},"sensitive_values":{},"depends_on":["module.alb.aws_lb.app_alb","module.security.aws_security_group.web_sg","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.data.aws_availability_zones.available","module.waf.aws_wafv2_web_acl.this"]}],"address":"module.waf"}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"region":{"references":["var.aws_region"]}}},"random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random","version_constraint":"~\u003e 3.0"}},"root_module":{"outputs":{"alb_dns_name":{"expression":{"references":["module.alb.alb_dns_name","module.alb"]},"description":"ALB DNS name"},"db_endpoint":{"expression":{"references":["module.db.db_endpoint","module.db"]}},"db_password":{"sensitive":true,"expression":{"references":["module.db.db_password","module.db"]},"description":"DB admin password (sensitive)"},"db_sg_id":{"expression":{"references":["module.security.db_sg_id","module.security"]}},"internet_gateway_id":{"expression":{"references":["module.vpc.internet_gateway_id","module.vpc"]},"description":"ID de l'Internet Gateway"},"nat_gateway_id":{"expression":{"references":["module.vpc.nat_gateway_id","module.vpc"]},"description":"ID du NAT Gateway"},"private_subnet_ids":{"expression":{"references":["module.vpc.private_subnet_ids","module.vpc"]},"description":"IDs des sous-rseaux privs"},"public_subnet_ids":{"expression":{"references":["module.vpc.public_subnet_ids","module.vpc"]},"description":"IDs des sous-rseaux publics"},"route_table_private_id":{"expression":{"references":["module.vpc.route_table_private_id","module.vpc"]},"description":"Route table prive"},"route_table_public_id":{"expression":{"references":["module.vpc.route_table_public_id","module.vpc"]},"description":"Route table publique"},"s3_bucket_arn":{"expression":{"references":["module.s3.bucket_arn","module.s3"]},"description":"S3 bucket arn"},"s3_bucket_id":{"expression":{"references":["module.s3.bucket_id","module.s3"]},"description":"S3 bucket id"},"vpc_id":{"expression":{"references":["module.vpc.vpc_id","module.vpc"]},"description":"ID du VPC cr"},"web_sg_id":{"expression":{"references":["module.security.web_sg_id","module.security"]}}},"module_calls":{"alb":{"source":"./modules/alb","expressions":{"project_name":{"references":["var.project_name"]},"public_subnet_ids":{"references":["module.vpc.public_subnet_ids","module.vpc"]},"vpc_id":{"references":["module.vpc.vpc_id","module.vpc"]},"web_sg_id":{"references":["module.security.web_sg_id","module.security"]}},"module":{"outputs":{"alb_arn":{"expression":{"references":["aws_lb.app_alb.arn","aws_lb.app_alb"]},"description":"ARN of the ALB"},"alb_dns_name":{"expression":{"references":["aws_lb.app_alb.dns_name","aws_lb.app_alb"]},"description":"DNS name of the ALB"},"target_group_arn":{"expression":{"references":["aws_lb_target_group.app_tg.arn","aws_lb_target_group.app_tg"]},"description":"ARN of the ALB target group"}},"resources":[{"address":"aws_lb.app_alb","mode":"managed","type":"aws_lb","name":"app_alb","provider_config_key":"aws","expressions":{"internal":{"constant_value":false},"load_balancer_type":{"constant_value":"application"},"name":{"references":["var.project_name"]},"security_groups":{"references":["var.web_sg_id"]},"subnets":{"references":["var.public_subnet_ids"]},"tags":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"references":["aws_lb_target_group.app_tg.arn","aws_lb_target_group.app_tg"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"references":["aws_lb.app_alb.arn","aws_lb.app_alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_lb_target_group.app_tg","mode":"managed","type":"aws_lb_target_group","name":"app_tg","provider_config_key":"aws","expressions":{"health_check":[{"healthy_threshold":{"constant_value":2},"interval":{"constant_value":30},"matcher":{"constant_value":"200-399"},"path":{"constant_value":"/"},"unhealthy_threshold":{"constant_value":2}}],"name":{"references":["var.project_name"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0}],"variables":{"project_name":{},"public_subnet_ids":{},"vpc_id":{},"web_sg_id":{}}}},"asg":{"source":"./modules/asg","expressions":{"asg_desired_capacity":{"references":["var.asg_desired_capacity"]},"asg_max_size":{"references":["var.asg_max_size"]},"asg_min_size":{"references":["var.asg_min_size"]},"instance_ami":{"references":["var.instance_ami"]},"instance_profile_name":{"references":["module.iam.instance_profile_name","module.iam"]},"instance_type":{"references":["var.instance_type"]},"private_subnet_ids":{"references":["module.vpc.private_subnet_ids","module.vpc"]},"project_name":{"references":["var.project_name"]},"target_group_arns":{"references":["module.alb.target_group_arn","module.alb"]},"web_sg_id":{"references":["module.security.web_sg_id","module.security"]}},"module":{"outputs":{"asg_name":{"expression":{"references":["aws_autoscaling_group.app_asg.name","aws_autoscaling_group.app_asg"]}},"launch_template_id":{"expression":{"references":["aws_launch_template.app.id","aws_launch_template.app"]}}},"resources":[{"address":"aws_autoscaling_group.app_asg","mode":"managed","type":"aws_autoscaling_group","name":"app_asg","provider_config_key":"aws","expressions":{"desired_capacity":{"references":["var.asg_desired_capacity"]},"health_check_grace_period":{"references":["var.health_check_grace_period"]},"health_check_type":{"constant_value":"ELB"},"launch_template":[{"id":{"references":["aws_launch_template.app.id","aws_launch_template.app"]},"version":{"constant_value":"$Latest"}}],"max_size":{"references":["var.asg_max_size"]},"min_size":{"references":["var.asg_min_size"]},"name":{"references":["var.project_name"]},"tag":[{"key":{"constant_value":"Name"},"propagate_at_launch":{"constant_value":true},"value":{"references":["var.project_name"]}}],"target_group_arns":{"references":["var.target_group_arns"]},"vpc_zone_identifier":{"references":["var.private_subnet_ids"]}},"schema_version":1},{"address":"aws_launch_template.app","mode":"managed","type":"aws_launch_template","name":"app","provider_config_key":"aws","expressions":{"image_id":{"references":["var.instance_ami","var.instance_ami","data.aws_ami.al2.id","data.aws_ami.al2"]},"instance_type":{"references":["var.instance_type"]},"name_prefix":{"references":["var.project_name"]},"tag_specifications":[{"resource_type":{"constant_value":"instance"},"tags":{"references":["var.project_name"]}}],"user_data":{"references":["var.user_data"]},"vpc_security_group_ids":{"references":["var.web_sg_id"]}},"schema_version":0},{"address":"data.aws_ami.al2","mode":"data","type":"aws_ami","name":"al2","provider_config_key":"aws","expressions":{"filter":[{"name":{"constant_value":"name"},"values":{"constant_value":["amzn2-ami-hvm-*-x86_64-gp2"]}}],"most_recent":{"constant_value":true},"owners":{"constant_value":["137112412989"]}},"schema_version":0}],"variables":{"asg_desired_capacity":{"description":"ASG desired capacity"},"asg_max_size":{"description":"ASG maximum size"},"asg_min_size":{"description":"ASG minimum size"},"health_check_grace_period":{"default":300,"description":"Seconds to wait after instance launch before checking health (allows user-data to complete)"},"instance_ami":{"description":"AMI ID to use for application instances"},"instance_profile_name":{"default":"","description":"IAM instance profile name to attach to instances"},"instance_type":{"description":"EC2 instance type for application instances"},"private_subnet_ids":{"description":"List of private subnet IDs for the ASG"},"project_name":{"description":"Project name for tagging"},"target_group_arns":{"default":[],"description":"List of ALB target group ARNs to attach the ASG"},"user_data":{"default":"#!/bin/bash\n# update packages\nif command -v apt-get \u003e/dev/null 2\u003e\u00261; then apt-get update -y || true; else yum update -y || true; fi\n# Try to install and start SSM agent so we can debug instances via SSM (best-effort)\nif command -v yum \u003e/dev/null 2\u003e\u00261; then\n  yum install -y amazon-ssm-agent || true\n  systemctl enable amazon-ssm-agent || true\n  systemctl start amazon-ssm-agent || true\nelif command -v apt-get \u003e/dev/null 2\u003e\u00261; then\n  # some distros provide amazon-ssm-agent via package, others require the deb from S3;\n  apt-get install -y amazon-ssm-agent || true\n  systemctl enable amazon-ssm-agent || true\n  systemctl start amazon-ssm-agent || true\nfi\n# Install and start nginx (best-effort)\nif command -v apt-get \u003e/dev/null 2\u003e\u00261; then\n  apt-get install -y nginx || true\n  systemctl enable nginx || true\n  systemctl start nginx || true\nelse\n  yum install -y nginx || true\n  systemctl enable nginx || true\n  systemctl start nginx || true\nfi\n# Ensure web root exists\nmkdir -p /var/www/html || true\n# Generate an index page that shows hostname and private IP so we can demonstrate load-balancing\nIP=$(curl -s http://169.254.169.254/latest/meta-data/local-ipv4 || hostname -I | awk '{print $1}')\nHOSTNAME=$(hostname)\ncat \u003e/var/www/html/index.html \u003c\u003cEOF\nHello from instance\nHostname: $HOSTNAME\nIP: $IP\nEOF\n# If nginx isn't running, start a python3 http.server fallback to serve the page\nif ! systemctl is-active --quiet nginx 2\u003e/dev/null; then\n  if command -v python3 \u003e/dev/null 2\u003e\u00261; then\n    nohup python3 -m http.server 80 -d /var/www/html \u003e/var/log/python-http.log 2\u003e\u00261 \u0026\n  fi\nfi\n","description":"User data script to configure the instance"},"web_sg_id":{"description":"Security group id for web instances"}}}},"backup":{"source":"./modules/backup","expressions":{"db_arn":{"references":["module.db.db_arn","module.db"]},"project_name":{"references":["var.project_name"]},"s3_bucket_arn":{"references":["module.s3.bucket_arn","module.s3"]}},"module":{"outputs":{"backup_plan_id":{"expression":{"references":["aws_backup_plan.daily.id","aws_backup_plan.daily"]}},"backup_vault_name":{"expression":{"references":["aws_backup_vault.this.name","aws_backup_vault.this"]}}},"resources":[{"address":"aws_backup_plan.daily","mode":"managed","type":"aws_backup_plan","name":"daily","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name"]},"rule":[{"lifecycle":[{"cold_storage_after":{"constant_value":0},"delete_after":{"constant_value":90}}],"rule_name":{"constant_value":"daily-rule"},"schedule":{"constant_value":"cron(0 5 ? * * *)"},"target_vault_name":{"references":["aws_backup_vault.this.name","aws_backup_vault.this"]}}]},"schema_version":1},{"address":"aws_backup_selection.selection","mode":"managed","type":"aws_backup_selection","name":"selection","provider_config_key":"aws","expressions":{"iam_role_arn":{"references":["aws_iam_role.backup_role.arn","aws_iam_role.backup_role"]},"name":{"references":["var.project_name"]},"plan_id":{"references":["aws_backup_plan.daily.id","aws_backup_plan.daily"]},"resources":{"references":["local.resources"]}},"schema_version":0},{"address":"aws_backup_vault.this","mode":"managed","type":"aws_backup_vault","name":"this","provider_config_key":"aws","expressions":{"kms_key_arn":{"constant_value":null},"name":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_iam_role.backup_role","mode":"managed","type":"aws_iam_role","name":"backup_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.backup_attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"backup_attach","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup"},"role":{"references":["aws_iam_role.backup_role.name","aws_iam_role.backup_role"]}},"schema_version":0}],"variables":{"db_arn":{"description":"ARN of the RDS instance to protect"},"project_name":{"description":"Project name for naming"},"s3_bucket_arn":{"description":"ARN of the S3 bucket to protect"}}}},"db":{"source":"./modules/db","expressions":{"db_allocated_storage":{"references":["var.db_allocated_storage"]},"db_instance_class":{"references":["var.db_instance_class"]},"db_password":{"references":["var.db_password"]},"db_sg_id":{"references":["module.security.db_sg_id","module.security"]},"db_username":{"references":["var.db_username"]},"private_subnet_ids":{"references":["module.vpc.private_subnet_ids","module.vpc"]},"project_name":{"references":["var.project_name"]}},"module":{"outputs":{"db_arn":{"expression":{"references":["aws_db_instance.mysql.arn","aws_db_instance.mysql"]},"description":"ARN of the RDS instance"},"db_endpoint":{"expression":{"references":["aws_db_instance.mysql.address","aws_db_instance.mysql"]}},"db_instance_id":{"expression":{"references":["aws_db_instance.mysql.id","aws_db_instance.mysql"]}},"db_password":{"sensitive":true,"expression":{"references":["var.db_password","var.db_password","var.db_password","random_password.db.result","random_password.db"]},"description":"Generated DB password (sensitive) or provided one"}},"resources":[{"address":"aws_db_instance.mysql","mode":"managed","type":"aws_db_instance","name":"mysql","provider_config_key":"aws","expressions":{"allocated_storage":{"references":["var.db_allocated_storage"]},"db_name":{"references":["var.project_name"]},"db_subnet_group_name":{"references":["aws_db_subnet_group.this.name","aws_db_subnet_group.this"]},"engine":{"constant_value":"mysql"},"engine_version":{"constant_value":"8.0"},"identifier":{"references":["var.project_name"]},"instance_class":{"references":["var.db_instance_class"]},"multi_az":{"constant_value":true},"password":{"references":["var.db_password","var.db_password","var.db_password","random_password.db.result","random_password.db"]},"publicly_accessible":{"constant_value":false},"skip_final_snapshot":{"constant_value":true},"storage_encrypted":{"constant_value":true},"tags":{"references":["var.project_name"]},"username":{"references":["var.db_username"]},"vpc_security_group_ids":{"references":["var.db_sg_id"]}},"schema_version":2},{"address":"aws_db_subnet_group.this","mode":"managed","type":"aws_db_subnet_group","name":"this","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name"]},"subnet_ids":{"references":["var.private_subnet_ids"]},"tags":{"references":["var.project_name"]}},"schema_version":0},{"address":"random_password.db","mode":"managed","type":"random_password","name":"db","provider_config_key":"random","expressions":{"length":{"constant_value":16},"special":{"constant_value":false}},"schema_version":3}],"variables":{"db_allocated_storage":{"default":20},"db_instance_class":{"default":"db.t3.micro"},"db_password":{"default":"","sensitive":true},"db_sg_id":{},"db_username":{"default":"admin"},"private_subnet_ids":{},"project_name":{}}}},"iam":{"source":"./modules/iam","expressions":{"project_name":{"references":["var.project_name"]}},"module":{"outputs":{"instance_profile_name":{"expression":{"references":["aws_iam_instance_profile.ec2_profile.name","aws_iam_instance_profile.ec2_profile"]},"description":"Name of the created IAM instance profile"},"role_name":{"expression":{"references":["aws_iam_role.ec2_role.name","aws_iam_role.ec2_role"]},"description":"Name of the created IAM role"}},"resources":[{"address":"aws_iam_instance_profile.ec2_profile","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_profile","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name"]},"role":{"references":["aws_iam_role.ec2_role.name","aws_iam_role.ec2_role"]}},"schema_version":0},{"address":"aws_iam_role.ec2_role","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.s3_read","mode":"managed","type":"aws_iam_role_policy_attachment","name":"s3_read","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess"},"role":{"references":["aws_iam_role.ec2_role.name","aws_iam_role.ec2_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ssm","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ssm","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"},"role":{"references":["aws_iam_role.ec2_role.name","aws_iam_role.ec2_role"]}},"schema_version":0}],"variables":{"project_name":{"description":"Project name for resource naming"}}}},"monitoring":{"source":"./modules/monitoring","expressions":{"asg_name":{"references":["module.asg.asg_name","module.asg"]},"db_instance_id":{"references":["module.db.db_instance_id","module.db"]},"project_name":{"references":["var.project_name"]}},"module":{"outputs":{"asg_below_min_alarm_name":{"expression":{"references":["aws_cloudwatch_metric_alarm.asg_below_min.alarm_name","aws_cloudwatch_metric_alarm.asg_below_min"]}},"rds_cpu_alarm_name":{"expression":{"references":["aws_cloudwatch_metric_alarm.rds_cpu_high.alarm_name","aws_cloudwatch_metric_alarm.rds_cpu_high"]}}},"resources":[{"address":"aws_cloudwatch_metric_alarm.asg_below_min","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"asg_below_min","provider_config_key":"aws","expressions":{"alarm_description":{"constant_value":"Alarm if Auto Scaling Group has fewer than 1 InService instance"},"alarm_name":{"references":["var.project_name"]},"comparison_operator":{"constant_value":"LessThanThreshold"},"dimensions":{"references":["var.asg_name"]},"evaluation_periods":{"constant_value":2},"metric_name":{"constant_value":"GroupInServiceInstances"},"namespace":{"constant_value":"AWS/AutoScaling"},"period":{"constant_value":60},"statistic":{"constant_value":"Minimum"},"threshold":{"constant_value":1},"treat_missing_data":{"constant_value":"missing"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.rds_cpu_high","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"rds_cpu_high","provider_config_key":"aws","expressions":{"alarm_description":{"constant_value":"Alarm if RDS CPU \u003e 70% for 5 minutes"},"alarm_name":{"references":["var.project_name"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.db_instance_id"]},"evaluation_periods":{"constant_value":5},"metric_name":{"constant_value":"CPUUtilization"},"namespace":{"constant_value":"AWS/RDS"},"period":{"constant_value":60},"statistic":{"constant_value":"Average"},"threshold":{"constant_value":70},"treat_missing_data":{"constant_value":"missing"}},"schema_version":1}],"variables":{"asg_name":{"description":"Auto Scaling Group name"},"db_instance_id":{"description":"RDS DB instance identifier"},"project_name":{"description":"Project name for tagging"}}}},"s3":{"source":"./modules/s3","expressions":{"project_name":{"references":["var.project_name"]}},"module":{"outputs":{"bucket_arn":{"expression":{"references":["aws_s3_bucket.app_bucket.arn","aws_s3_bucket.app_bucket"]}},"bucket_id":{"expression":{"references":["aws_s3_bucket.app_bucket.id","aws_s3_bucket.app_bucket"]}}},"resources":[{"address":"aws_s3_bucket.app_bucket","mode":"managed","type":"aws_s3_bucket","name":"app_bucket","provider_config_key":"aws","expressions":{"bucket":{"references":["var.bucket_name","var.bucket_name","var.project_name","random_id.bucket_suffix.hex","random_id.bucket_suffix"]},"tags":{"references":["var.bucket_name","var.bucket_name","var.project_name","random_id.bucket_suffix.hex","random_id.bucket_suffix"]}},"schema_version":0},{"address":"aws_s3_bucket_acl.app_bucket_acl","mode":"managed","type":"aws_s3_bucket_acl","name":"app_bucket_acl","provider_config_key":"aws","expressions":{"acl":{"constant_value":"private"},"bucket":{"references":["aws_s3_bucket.app_bucket.id","aws_s3_bucket.app_bucket"]}},"schema_version":0,"count_expression":{"references":["var.enable_acl"]}},{"address":"aws_s3_bucket_lifecycle_configuration.app_bucket_lifecycle","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"app_bucket_lifecycle","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.app_bucket.id","aws_s3_bucket.app_bucket"]},"rule":[{"expiration":[{"days":{"constant_value":365}}],"filter":[{"prefix":{"constant_value":""}}],"id":{"constant_value":"keep-current"},"status":{"constant_value":"Enabled"}}]},"schema_version":1},{"address":"aws_s3_bucket_server_side_encryption_configuration.app_bucket_sse","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"app_bucket_sse","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.app_bucket.id","aws_s3_bucket.app_bucket"]},"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":{"constant_value":"AES256"}}]}]},"schema_version":0},{"address":"aws_s3_bucket_versioning.app_bucket_versioning","mode":"managed","type":"aws_s3_bucket_versioning","name":"app_bucket_versioning","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.app_bucket.id","aws_s3_bucket.app_bucket"]},"versioning_configuration":[{"status":{"constant_value":"Enabled"}}]},"schema_version":0},{"address":"random_id.bucket_suffix","mode":"managed","type":"random_id","name":"bucket_suffix","provider_config_key":"random","expressions":{"byte_length":{"constant_value":4}},"schema_version":0}],"variables":{"bucket_name":{"default":"","description":"Optional explicit bucket name. If empty, a unique name will be generated from project_name."},"enable_acl":{"default":false,"description":"Whether to manage ACLs on the bucket. Set to false if your account enforces 'Bucket owner enforced' and ACLs are not supported."},"project_name":{}}}},"security":{"source":"./modules/security","expressions":{"private_subnet_ids":{"references":["module.vpc.private_subnet_ids","module.vpc"]},"project_name":{"references":["var.project_name"]},"vpc_cidr":{"references":["var.vpc_cidr"]},"vpc_id":{"references":["module.vpc.vpc_id","module.vpc"]}},"module":{"outputs":{"db_sg_id":{"expression":{"references":["aws_security_group.db_sg.id","aws_security_group.db_sg"]}},"nacl_id":{"expression":{"references":["aws_network_acl.private_nacl.id","aws_network_acl.private_nacl"]}},"web_sg_id":{"expression":{"references":["aws_security_group.web_sg.id","aws_security_group.web_sg"]}}},"resources":[{"address":"aws_network_acl.private_nacl","mode":"managed","type":"aws_network_acl","name":"private_nacl","provider_config_key":"aws","expressions":{"tags":{"references":["var.project_name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0},{"address":"aws_network_acl_association.private_nacl_assoc","mode":"managed","type":"aws_network_acl_association","name":"private_nacl_assoc","provider_config_key":"aws","expressions":{"network_acl_id":{"references":["aws_network_acl.private_nacl.id","aws_network_acl.private_nacl"]},"subnet_id":{"references":["var.private_subnet_ids","count.index"]}},"schema_version":0,"count_expression":{"references":["var.private_subnet_ids"]}},{"address":"aws_network_acl_rule.private_allow_all_inbound","mode":"managed","type":"aws_network_acl_rule","name":"private_allow_all_inbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc_cidr"]},"egress":{"constant_value":false},"network_acl_id":{"references":["aws_network_acl.private_nacl.id","aws_network_acl.private_nacl"]},"protocol":{"constant_value":"-1"},"rule_action":{"constant_value":"allow"},"rule_number":{"constant_value":100}},"schema_version":0},{"address":"aws_network_acl_rule.private_allow_all_outbound","mode":"managed","type":"aws_network_acl_rule","name":"private_allow_all_outbound","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"0.0.0.0/0"},"egress":{"constant_value":true},"network_acl_id":{"references":["aws_network_acl.private_nacl.id","aws_network_acl.private_nacl"]},"protocol":{"constant_value":"-1"},"rule_action":{"constant_value":"allow"},"rule_number":{"constant_value":100}},"schema_version":0},{"address":"aws_security_group.db_sg","mode":"managed","type":"aws_security_group","name":"db_sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"db sg"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"references":["var.vpc_cidr"]},"name":{"references":["var.project_name"]},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_security_group.web_sg","mode":"managed","type":"aws_security_group","name":"web_sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"web sg"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":80},{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":443,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":22,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":22}]},"name":{"references":["var.project_name"]},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1}],"variables":{"private_subnet_ids":{},"project_name":{},"vpc_cidr":{},"vpc_id":{}}}},"vpc":{"source":"./modules/vpc","expressions":{"az_count":{"references":["var.az_count"]},"project_name":{"references":["var.project_name"]},"vpc_cidr":{"references":["var.vpc_cidr"]}},"module":{"outputs":{"internet_gateway_id":{"expression":{"references":["aws_internet_gateway.igw.id","aws_internet_gateway.igw"]}},"nat_gateway_id":{"expression":{"references":["aws_nat_gateway.nat.id","aws_nat_gateway.nat"]}},"private_subnet_ids":{"expression":{"references":["aws_subnet.private"]}},"public_subnet_ids":{"expression":{"references":["aws_subnet.public"]}},"route_table_private_id":{"expression":{"references":["aws_route_table.private.id","aws_route_table.private"]}},"route_table_public_id":{"expression":{"references":["aws_route_table.public.id","aws_route_table.public"]}},"vpc_id":{"expression":{"references":["aws_vpc.this.id","aws_vpc.this"]}}},"resources":[{"address":"aws_eip.nat_eip","mode":"managed","type":"aws_eip","name":"nat_eip","provider_config_key":"aws","expressions":{"domain":{"constant_value":"vpc"},"tags":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_internet_gateway.igw","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_config_key":"aws","expressions":{"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_nat_gateway.nat","mode":"managed","type":"aws_nat_gateway","name":"nat","provider_config_key":"aws","expressions":{"allocation_id":{"references":["aws_eip.nat_eip.id","aws_eip.nat_eip"]},"subnet_id":{"references":["aws_subnet.public[0].id","aws_subnet.public[0]","aws_subnet.public"]},"tags":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_route.private_nat","mode":"managed","type":"aws_route","name":"private_nat","provider_config_key":"aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"nat_gateway_id":{"references":["aws_nat_gateway.nat.id","aws_nat_gateway.nat"]},"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]}},"schema_version":0,"depends_on":["aws_nat_gateway.nat"]},{"address":"aws_route.public_internet_access","mode":"managed","type":"aws_route","name":"public_internet_access","provider_config_key":"aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"gateway_id":{"references":["aws_internet_gateway.igw.id","aws_internet_gateway.igw"]},"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]}},"schema_version":0},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_config_key":"aws","expressions":{"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_config_key":"aws","expressions":{"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_route_table_association.private_assoc","mode":"managed","type":"aws_route_table_association","name":"private_assoc","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]},"subnet_id":{"references":["aws_subnet.private","count.index"]}},"schema_version":0,"count_expression":{"references":["aws_subnet.private"]}},{"address":"aws_route_table_association.public_assoc","mode":"managed","type":"aws_route_table_association","name":"public_assoc","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]},"subnet_id":{"references":["aws_subnet.public","count.index"]}},"schema_version":0,"count_expression":{"references":["aws_subnet.public"]}},{"address":"aws_subnet.private","mode":"managed","type":"aws_subnet","name":"private","provider_config_key":"aws","expressions":{"availability_zone":{"references":["local.azs","count.index"]},"cidr_block":{"references":["var.vpc_cidr","count.index","local.azs"]},"tags":{"references":["var.project_name","count.index"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1,"count_expression":{"references":["local.azs"]}},{"address":"aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_config_key":"aws","expressions":{"availability_zone":{"references":["local.azs","count.index"]},"cidr_block":{"references":["var.vpc_cidr","count.index"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"references":["var.project_name","count.index"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1,"count_expression":{"references":["local.azs"]}},{"address":"aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc_cidr"]},"tags":{"references":["var.project_name"]}},"schema_version":1},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_config_key":"aws","schema_version":0}],"variables":{"az_count":{"default":2},"project_name":{},"vpc_cidr":{}}}},"waf":{"source":"./modules/waf","expressions":{"alb_arn":{"references":["module.alb.alb_arn","module.alb"]},"project_name":{"references":["var.project_name"]}},"module":{"outputs":{"web_acl_arn":{"expression":{"references":["aws_wafv2_web_acl.this.arn","aws_wafv2_web_acl.this"]},"description":"ARN of the WAF Web ACL"},"web_acl_id":{"expression":{"references":["aws_wafv2_web_acl.this.id","aws_wafv2_web_acl.this"]},"description":"ID of the WAF Web ACL"}},"resources":[{"address":"aws_wafv2_web_acl.this","mode":"managed","type":"aws_wafv2_web_acl","name":"this","provider_config_key":"aws","expressions":{"default_action":[{"allow":[{}]}],"description":{"references":["var.project_name"]},"name":{"references":["var.project_name"]},"rule":[{"name":{"constant_value":"AWSManagedCommonRules"},"override_action":[{"none":[{}]}],"priority":{"constant_value":1},"statement":[{"managed_rule_group_statement":[{"name":{"constant_value":"AWSManagedRulesCommonRuleSet"},"vendor_name":{"constant_value":"AWS"}}]}],"visibility_config":[{"cloudwatch_metrics_enabled":{"constant_value":true},"metric_name":{"references":["var.project_name"]},"sampled_requests_enabled":{"constant_value":true}}]}],"scope":{"constant_value":"REGIONAL"},"visibility_config":[{"cloudwatch_metrics_enabled":{"constant_value":true},"metric_name":{"references":["var.project_name"]},"sampled_requests_enabled":{"constant_value":true}}]},"schema_version":0},{"address":"aws_wafv2_web_acl_association.alb_assoc","mode":"managed","type":"aws_wafv2_web_acl_association","name":"alb_assoc","provider_config_key":"aws","expressions":{"resource_arn":{"references":["var.alb_arn"]},"web_acl_arn":{"references":["aws_wafv2_web_acl.this.arn","aws_wafv2_web_acl.this"]}},"schema_version":0}],"variables":{"alb_arn":{"description":"ARN of the ALB to associate the WAF with"},"project_name":{"description":"Project name for tagging"}}}}},"variables":{"asg_desired_capacity":{"default":2,"description":"ASG desired capacity"},"asg_max_size":{"default":3,"description":"ASG maximum size"},"asg_min_size":{"default":2,"description":"ASG minimum size"},"aws_region":{"default":"us-east-1","description":"Region AWS"},"az_count":{"default":2,"description":"Number of availability zones to use for subnets"},"db_allocated_storage":{"default":20,"description":"Taille disque (Go) pour RDS"},"db_instance_class":{"default":"db.t3.micro","description":"Classe d'instance RDS"},"db_password":{"default":null,"description":"Mot de passe pour la DB MySQL (sensible)","sensitive":true},"db_username":{"default":"admin","description":"Nom d'utilisateur pour la DB MySQL"},"instance_ami":{"default":"","description":"AMI ID to use for application instances"},"instance_type":{"default":"t3.micro","description":"EC2 instance type for application instances"},"project_name":{"default":"tpcloudv2","description":"Nom du projet utilis pour tag"},"vpc_cidr":{"default":"10.0.0.0/16","description":"CIDR pour le VPC"}}}},"relevant_attributes":[{"resource":"module.alb.aws_lb_target_group.app_tg","attribute":["arn"]},{"resource":"module.asg.aws_autoscaling_group.app_asg","attribute":["name"]},{"resource":"module.waf.aws_wafv2_web_acl.this","attribute":["id"]},{"resource":"module.backup.aws_backup_plan.daily","attribute":["id"]},{"resource":"module.security.aws_security_group.db_sg","attribute":["id"]},{"resource":"module.vpc.aws_nat_gateway.nat","attribute":["id"]},{"resource":"module.asg.aws_launch_template.app","attribute":["id"]},{"resource":"module.db.aws_db_instance.mysql","attribute":["address"]},{"resource":"module.vpc.aws_route_table.public","attribute":["id"]},{"resource":"module.waf.aws_wafv2_web_acl.this","attribute":["arn"]},{"resource":"module.alb.aws_lb.app_alb","attribute":["arn"]},{"resource":"module.db.random_password.db","attribute":["result"]},{"resource":"module.db.aws_db_instance.mysql","attribute":["arn"]},{"resource":"module.db.aws_db_instance.mysql","attribute":["id"]},{"resource":"module.s3.aws_s3_bucket.app_bucket","attribute":["arn"]},{"resource":"module.alb.aws_lb.app_alb","attribute":["dns_name"]},{"resource":"module.security.aws_network_acl.private_nacl","attribute":["id"]},{"resource":"module.vpc.aws_vpc.this","attribute":["id"]},{"resource":"module.iam.aws_iam_role.ec2_role","attribute":["name"]},{"resource":"module.monitoring.aws_cloudwatch_metric_alarm.rds_cpu_high","attribute":["alarm_name"]},{"resource":"module.s3.aws_s3_bucket.app_bucket","attribute":["id"]},{"resource":"module.monitoring.aws_cloudwatch_metric_alarm.asg_below_min","attribute":["alarm_name"]},{"resource":"module.security.aws_security_group.web_sg","attribute":["id"]},{"resource":"module.iam.aws_iam_instance_profile.ec2_profile","attribute":["name"]},{"resource":"module.vpc.data.aws_availability_zones.available","attribute":["names"]},{"resource":"module.vpc.aws_internet_gateway.igw","attribute":["id"]},{"resource":"module.backup.aws_backup_vault.this","attribute":["name"]},{"resource":"module.vpc.aws_route_table.private","attribute":["id"]},{"resource":"module.vpc.aws_subnet.private","attribute":[]},{"resource":"module.vpc.aws_subnet.public","attribute":[]}],"checks":[{"address":{"kind":"var","name":"db_password","to_display":"var.db_password"},"status":"pass","instances":[{"address":{"to_display":"var.db_password"},"status":"pass"}]}],"timestamp":"2025-11-05T13:18:08Z","applyable":true,"complete":true,"errored":false}
